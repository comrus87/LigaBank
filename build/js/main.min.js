"use strict";document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".overlay-login"),t=document.querySelector(".modal-login"),a=document.querySelector(".page-header__enter-link"),l=document.querySelector(".modal-login__btn-close"),r=document.querySelector("#login"),c=document.querySelector("#password"),n=document.querySelector("#login-form"),o=document.querySelector(".modal-login__password-btn"),i=document.querySelectorAll(".services__tab-item"),u=document.querySelectorAll(".services__block"),s=document.querySelector(".intro"),d=document.querySelector(".services");function v(){e.style.display="none",t.style.display="none",document.body.style.overflow="",r.value="",c.value=""}t&&(o.addEventListener("mousedown",function(){var e=0,t=setInterval(function(){e++},200);o.addEventListener("mouseup",function(){clearInterval(t),2<e&&("password"===c.getAttribute("type")?c.setAttribute("type","text"):"text"===c.getAttribute("type")&&c.setAttribute("type","password"),e=0)})}),a.addEventListener("click",function(){e.style.display="block",t.style.display="block",document.body.style.overflow="hidden",r.focus()}),l.addEventListener("click",v),document.addEventListener("keydown",function(e){27===e.keyCode&&v()}),n.addEventListener("submit",function(e){e.preventDefault(),localStorage.setItem("Логин",r.value),localStorage.setItem("Пароль",c.value),v()})),s&&new Swiper(".intro",{pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:4e3},speed:700}).init();function p(){function a(e){for(var t=e;t<u.length;t++)u[t].classList.add("services__hide"),u[t].classList.remove("services__show"),i[t].classList.remove("services__tab-item--active")}a(1),i.forEach(function(e,t){e.addEventListener("click",function(){var e;a(0),u[e=t].classList.contains("services__hide")&&(u[e].classList.remove("services__hide"),u[e].classList.add("services__show"),i[e].classList.add("services__tab-item--active"))})})}var y=new Swiper(".services",{breakpoints:{320:{init:!0,pagination:{el:".swiper-pagination",clickable:!0,bulletClass:"services__bullet",bulletActiveClass:"services__active-bullet"}},1024:{init:!1}}});function _(){window.matchMedia("(min-width: 1024px)").matches?(y.destroy(!1),p()):window.matchMedia("(max-width: 1024px)").matches&&y.init()}d&&(_(),window.addEventListener("resize",_));var g=document.querySelector(".calculator__select"),m=document.querySelector(".calculator__select-title"),f=document.querySelector(".calculator__select-list"),S=document.querySelector(".calculator__mortgage-container"),q=document.querySelector(".calculator__avto-container"),L=document.querySelector(".calculator__consumer-container"),b=document.querySelector(".calculator__offer-wrap"),h=document.querySelector(".credit-form"),w={modeCredit:null,mortgage:{totalValue:2e6,initialPay:null,period:null,isCapital:!1}},E=[];function k(e){for(var t=0;t<E.length;t++)E[t].style.display="none";e.style.display="block",b.style.display="block"}E.push(S,q,L),function(){for(var e=0;e<E.length;e++)E[e].style.display="none";b.style.display="none",h.style.display="none"}(),m.addEventListener("click",function(e){e.stopPropagation(),g.classList.contains("calculator__select--active")?g.classList.remove("calculator__select--active"):(g.classList.add("calculator__select--active"),document.addEventListener("click",function(){g.classList.remove("calculator__select--active")}))}),f.addEventListener("click",function(e){switch(w.modeCredit=e.target.getAttribute("data-value"),m.textContent=e.target.textContent,w.modeCredit){case"mortgage":k(S);break;case"avto":k(q);break;case"consumer":k(L)}});var C=S.querySelector(".calculator__input-total"),I=S.querySelector(".calculator__input-initial"),D=S.querySelector(".calculator__range-initial"),$=S.querySelector(".calculator__pay-percent"),x=S.querySelector(".calculator__input-period"),A=S.querySelector(".calculator__range-period"),M=S.querySelector(".calculator__btn-minus"),P=S.querySelector(".calculator__btn-plus"),z=(document.querySelector(".calculator__offer-sum"),document.querySelector(".calculator__offer-percent"),document.querySelector(".calculator__offer-pay"),document.querySelector(".calculator__offer-required"),S.querySelector(".calculator__capital input"));function O(e,t,a){t.value="1"===e?a.replace(/^0+/,"")+" рубль":"2"===e||"3"===e||"4"===e?a.replace(/^0+/,"")+" рубля":a.replace(/^0+/,"")+" рублей"}function V(e,t){var a=String(t).slice(-1),l=String(t).slice(-2);e.value="11"===l||"12"===l||"13"===l||"14"===l?String(t).replace(/^0+/,"")+" лет":"1"===a?String(t).replace(/^0+/,"")+" год":"2"===a||"3"===a||"4"===a?String(t).replace(/^0+/,"")+" года":String(t).replace(/^0+/,"")+" лет"}function j(e,t){var a=Math.round(e*t/100),l=String(a).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ");O(l.slice(-1),I,l)}C.addEventListener("input",function(){C.value=C.value.replace(/[^\d]/g,"").replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 "),C.style.color="#1f1e25",C.style.borderColor="#1f1e25"}),C.addEventListener("change",function(){var e=C.value.slice(-1),t=parseInt(C.value.replace(/\D+/g,""),10);12e5<=t&&t<=25e6?(j(t,D.value),C.style.color="#1f1e25",C.style.borderColor="#1f1e25",O(e,C,C.value)):(C.value="Некорректное значение",C.style.color="red",C.style.borderColor="red")}),M.addEventListener("click",function(){var e=parseInt(C.value.replace(/\D+/g,""),10),t=String(e).slice(-1);if(13e5<=e){e-=1e5;var a=String(e).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ");O(t,C,a),j(e,D.value)}parseInt(C.value.replace(/\D+/g,""),10),parseInt(I.value.replace(/\D+/g,""),10),z.checked}),P.addEventListener("click",function(){var e=parseInt(C.value.replace(/\D+/g,""),10),t=String(e).slice(-1);if(e<=249e5){e+=1e5;var a=String(e).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ");O(t,C,a),j(e,D.value)}}),I.addEventListener("input",function(){I.value=I.value.replace(/[^\d]/g,"").replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}),I.addEventListener("change",function(){var e=parseInt(I.value.replace(/\D+/g,""),10),t=parseInt(C.value.replace(/\D+/g,""),10),a=100*e/t;a<10||!e?(j(t,10),D.value=10):100<a?(j(t,100),D.value=100):(j(t,a),D.value=a),$.textContent=D.value+"%"}),D.addEventListener("change",function(){j(parseInt(C.value.replace(/\D+/g,""),10),D.value),$.textContent=D.value+"%"}),x.addEventListener("input",function(){x.value=x.value.replace(/[^\d]/g,"")}),x.addEventListener("change",function(){var e=parseInt(x.value.replace(/\D+/g,""),10);e<5||!e?(x.value="5 лет",A.value=5):30<e?(x.value="30 лет",A.value=30):(V(x,e),A.value=e)}),A.addEventListener("change",function(){var e=parseInt(A.value.replace(/\D+/g,""),10);V(x,e)})});
//# sourceMappingURL=main.min.js.map
