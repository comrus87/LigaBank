"use strict";document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".overlay-login"),t=document.querySelector(".modal-login"),c=document.querySelector(".page-header__enter-link"),l=document.querySelector(".modal-login__btn-close"),a=document.querySelector("#login"),o=document.querySelector("#password"),r=document.querySelector("#login-form"),n=document.querySelector(".modal-login__password-btn"),i=document.querySelectorAll(".services__tab-item"),s=document.querySelectorAll(".services__block"),u=document.querySelector(".intro"),d=document.querySelector(".services");function v(){e.style.display="none",t.style.display="none",document.body.style.overflow="",a.value="",o.value=""}t&&(n.addEventListener("mousedown",function(){var e=0,t=setInterval(function(){e++},200);n.addEventListener("mouseup",function(){clearInterval(t),2<e&&("password"===o.getAttribute("type")?o.setAttribute("type","text"):"text"===o.getAttribute("type")&&o.setAttribute("type","password"),e=0)})}),c.addEventListener("click",function(){e.style.display="block",t.style.display="block",document.body.style.overflow="hidden",a.focus()}),l.addEventListener("click",v),document.addEventListener("keydown",function(e){27===e.keyCode&&v()}),r.addEventListener("submit",function(e){e.preventDefault(),localStorage.setItem("Логин",a.value),localStorage.setItem("Пароль",o.value),v()})),u&&new Swiper(".intro",{pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:4e3},speed:700}).init();function m(){function c(e){for(var t=e;t<s.length;t++)s[t].classList.add("services__hide"),s[t].classList.remove("services__show"),i[t].classList.remove("services__tab-item--active")}c(1),i.forEach(function(e,t){e.addEventListener("click",function(){var e;c(0),s[e=t].classList.contains("services__hide")&&(s[e].classList.remove("services__hide"),s[e].classList.add("services__show"),i[e].classList.add("services__tab-item--active"))})})}var _=new Swiper(".services",{breakpoints:{320:{init:!0,pagination:{el:".swiper-pagination",clickable:!0,bulletClass:"services__bullet",bulletActiveClass:"services__active-bullet"}},1024:{init:!1}}});function y(){window.matchMedia("(min-width: 1024px)").matches?(_.destroy(!1),m()):window.matchMedia("(max-width: 1024px)").matches&&_.init()}d&&(y(),window.addEventListener("resize",y));var p=document.querySelector(".calculator__select"),g=document.querySelector(".calculator__select-title"),f=(document.querySelectorAll(".calculator__select-item"),document.querySelector(".calculator__select-list")),b=document.querySelector(".calculator__mortgage-container"),S=document.querySelector(".calculator__avto-container"),L=document.querySelector(".calculator__consumer-container"),w=document.querySelector(".calculator__offer-wrap"),q=document.querySelector(".credit-form"),h={modeCredit:null,mortgage:{totalValue:2e6,initialPay:null,period:null,isCapital:!1}},k=[];function E(e){for(var t=0;t<k.length;t++)k[t].style.display="none";e.style.display="block",w.style.display="block"}k.push(b,S,L),function(){for(var e=0;e<k.length;e++)k[e].style.display="none";w.style.display="none",q.style.display="none"}(),g.addEventListener("click",function(e){e.stopPropagation(),p.classList.contains("calculator__select--active")?p.classList.remove("calculator__select--active"):(p.classList.add("calculator__select--active"),document.addEventListener("click",function(){p.classList.remove("calculator__select--active")}))}),f.addEventListener("click",function(e){switch(h.modeCredit=e.target.getAttribute("data-value"),g.textContent=e.target.textContent,h.modeCredit){case"mortgage":E(b);break;case"avto":E(S);break;case"consumer":E(L)}});var C=document.querySelector(".calculator__mortgage-container .calculator__input-total"),A=document.querySelector(".calculator__mortgage-container .calculator__btn-minus");document.querySelector(".calculator__mortgage-container .calculator__btn-plus");C.addEventListener("input",function(){C.value=C.value.replace(/[^\d]/g,""),C.style.color="#1f1e25",C.style.borderColor="#1f1e25"}),C.addEventListener("change",function(){var e=String(C.value).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 "),t=e.slice(-1),c=+C.value;12e5<=c&&c<=25e6?C.value="1"===t?e.replace(/^0+/,"")+" рубль":"2"===t||"3"===t||"4"===t?e.replace(/^0+/,"")+" рубля":e.replace(/^0+/,"")+" рублей":(h.mortgage.totalValue=null,C.value="Некорректное значение",C.style.color="red",C.style.borderColor="red")}),A.addEventListener("click",function(){var e=parseInt(C.value.replace(/\D+/g,""),10),t=String(e).slice(-1);if(12e5<=e&&e<=25e6){e-=1e5;var c=String(e).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ");C.value="1"===t?c.replace(/^0+/,"")+" рубль":"2"===t||"3"===t||"4"===t?c.replace(/^0+/,"")+" рубля":c.replace(/^0+/,"")+" рублей"}})});
//# sourceMappingURL=main.min.js.map
