"use strict";document.addEventListener("DOMContentLoaded",function(){document.querySelector(".intro")&&new Swiper(".intro",{pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:4e3},speed:700}).init()}),document.addEventListener("DOMContentLoaded",function(){var t=document.querySelector(".calculator__select"),a=document.querySelector(".calculator__select-title"),e=document.querySelector(".calculator__select-list"),r=document.querySelector(".calculator__mortgage-container"),l=document.querySelector(".calculator__avto-container"),n=document.querySelector(".calculator__consumer-container"),c=document.querySelector(".calculator__offer-wrap"),o=document.querySelector(".credit-form"),u=document.querySelector("#target-form"),i={modeCredit:null},d=[];function s(e){for(var t=0;t<d.length;t++)d[t].style.display="none";e.style.display="block",c.style.display="block",o.style.display="none"}d.push(r,l,n),function(){for(var e=0;e<d.length;e++)d[e].style.display="none";c.style.display="none",o.style.display="none"}(),a.addEventListener("click",function(e){e.stopPropagation(),t.classList.contains("calculator__select--active")?t.classList.remove("calculator__select--active"):(t.classList.add("calculator__select--active"),document.addEventListener("click",function(){t.classList.remove("calculator__select--active")}))}),e.addEventListener("click",function(e){switch(i.modeCredit=e.target.getAttribute("data-value"),a.textContent=e.target.textContent,i.modeCredit){case"mortgage":s(r),u.value="Ипотека";break;case"avto":s(l),u.value="Автокредит";break;case"consumer":s(n),u.value="Потребительский кредит"}});var v,p,y,m,_,f,g,S,q,L=47e4,b=5e5,E=15,h=r.querySelector(".calculator__input-total"),k=r.querySelector(".calculator__input-initial"),w=r.querySelector(".calculator__range-initial"),C=r.querySelector(".calculator__input-period"),I=document.querySelector(".calculator__offer-column"),D=document.querySelector(".calculator__offer-sum"),x=document.querySelector(".calculator__offer-percent"),A=document.querySelector(".calculator__offer-pay"),$=document.querySelector(".calculator__offer-required"),M=r.querySelector(".calculator__capital input"),z=document.querySelector(".calculator__warning"),O=document.querySelector(".calculator__fill-form"),Z=document.querySelector("#total-sum-form"),F=document.querySelector("#initial-pay-form"),V=document.querySelector("#period-form");function P(e){var t=String(e).slice(-1);return"1"===t?String(e).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ").replace(/^0+/,"")+" рубль":"2"===t||"3"===t||"4"===t?String(e).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ").replace(/^0+/,"")+" рубля":String(e).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ").replace(/^0+/,"")+" рублей"}function j(e,t){var a=String(t).slice(-1),r=String(t).slice(-2);e.value="11"===r||"12"===r||"13"===r||"14"===r?String(t).replace(/^0+/,"")+" лет":"1"===a?String(t).replace(/^0+/,"")+" год":"2"===a||"3"===a||"4"===a?String(t).replace(/^0+/,"")+" года":String(t).replace(/^0+/,"")+" лет"}function B(e,t){var a=Math.round(e*t/100);y.value=P(a)}function G(){var e,t,a=parseInt(h.value.replace(/\D+/g,""),10),r=parseInt(k.value.replace(/\D+/g,""),10),l=parseInt(w.value.replace(/\D+/g,""),10),n=parseInt(C.value.replace(/\D+/g,""),10);(e=M.checked?a-r-L:a-r)<b?(I.style.display="none",z.style.display="block"):(I.style.display="block",z.style.display="none"),l<E?(t=9.4/1200,x.textContent="9,40%"):(t=8.5/1200,x.textContent="8,50%"),D.textContent=P(e);var c=12*n,o=e*(t+t/(Math.pow(1+t,c)-1)),u=100*o/45;A.textContent=P(o.toFixed()),$.textContent=P(u.toFixed()),Z.value=h.value,F.value=k.value,V.value=C.value}p=h,y=k,m=w,_=C,f=(v=r).querySelector(".calculator__pay-percent"),g=v.querySelector(".calculator__range-period"),S=v.querySelector(".calculator__btn-minus"),q=v.querySelector(".calculator__btn-plus"),p.addEventListener("input",function(){p.value=p.value.replace(/[^\d]/g,"").replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 "),p.style.color="#1f1e25",p.style.borderColor="#1f1e25"}),p.addEventListener("change",function(){var e=parseInt(p.value.replace(/\D+/g,""),10);12e5<=e&&e<=25e6?(B(e,m.value),p.style.color="#1f1e25",p.style.borderColor="#1f1e25",p.value=P(e)):(p.value="Некорректное значение",p.style.color="red",p.style.borderColor="red")}),S.addEventListener("click",function(){var e=parseInt(p.value.replace(/\D+/g,""),10);13e5<=e&&(e-=1e5,p.value=P(e),B(e,m.value),G())}),q.addEventListener("click",function(){var e=parseInt(p.value.replace(/\D+/g,""),10);e<=249e5&&(e+=1e5,p.value=P(e),B(e,m.value),G())}),y.addEventListener("input",function(){y.value=y.value.replace(/[^\d]/g,"").replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}),y.addEventListener("change",function(){var e=parseInt(y.value.replace(/\D+/g,""),10),t=parseInt(p.value.replace(/\D+/g,""),10),a=100*e/t;a<10||!e?(B(t,10),m.value=10):100<a?(B(t,100),m.value=100):(B(t,a),m.value=a),f.textContent=m.value+"%"}),m.addEventListener("change",function(){B(parseInt(p.value.replace(/\D+/g,""),10),m.value),f.textContent=m.value+"%"}),_.addEventListener("input",function(){_.value=_.value.replace(/[^\d]/g,"")}),_.addEventListener("change",function(){var e=parseInt(_.value.replace(/\D+/g,""),10);e<5||!e?(_.value="5 лет",g.value=5):30<e?(_.value="30 лет",g.value=30):(j(_,e),g.value=e)}),g.addEventListener("change",function(){var e=parseInt(g.value.replace(/\D+/g,""),10);j(_,e)}),r.addEventListener("change",G);var H=document.querySelector(".credit-form__name-input"),J=document.querySelector(".credit-form__phone-input"),K=document.querySelector(".credit-form__email-input"),N=document.querySelector(".credit-form form");O.addEventListener("click",function(){o.style.display="block",H.focus()});J&&IMask(J,{mask:"+{7}(000)000-00-00"}),N&&(K.addEventListener("input",function(){var e=K.value.trim();!1===/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(e)&&""!==e?K.setCustomValidity("Введите корректный E-mail"):K.setCustomValidity("")}),N.addEventListener("submit",function(e){e.preventDefault(),localStorage.setItem("ФИО",H.value),localStorage.setItem("Телефон",J.value),localStorage.setItem("E-mail",K.value),N.reset()}))}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".overlay-login"),t=document.querySelector(".modal-login"),a=document.querySelector(".page-header__enter-link"),r=document.querySelector(".modal-login__btn-close"),l=document.querySelector("#login"),n=document.querySelector("#password"),c=document.querySelector("#login-form"),o=document.querySelector(".modal-login__password-btn");function u(){e.style.display="none",t.style.display="none",document.body.style.overflow="",l.value="",n.value=""}t&&(o.addEventListener("mousedown",function(){var e=0,t=setInterval(function(){e++},200);o.addEventListener("mouseup",function(){clearInterval(t),2<e&&("password"===n.getAttribute("type")?n.setAttribute("type","text"):"text"===n.getAttribute("type")&&n.setAttribute("type","password"),e=0)})}),a.addEventListener("click",function(){e.style.display="block",t.style.display="block",document.body.style.overflow="hidden",l.focus()}),r.addEventListener("click",u),document.addEventListener("keydown",function(e){27===e.keyCode&&u()}),c.addEventListener("submit",function(e){e.preventDefault(),localStorage.setItem("Логин",l.value),localStorage.setItem("Пароль",n.value),u()}))}),document.addEventListener("DOMContentLoaded",function(){var r=document.querySelectorAll(".services__tab-item"),l=document.querySelectorAll(".services__block"),e=document.querySelector(".services");function t(){function a(e){for(var t=e;t<l.length;t++)l[t].classList.add("services__hide"),l[t].classList.remove("services__show"),r[t].classList.remove("services__tab-item--active")}a(1),r.forEach(function(e,t){e.addEventListener("click",function(){var e;a(0),l[e=t].classList.contains("services__hide")&&(l[e].classList.remove("services__hide"),l[e].classList.add("services__show"),r[e].classList.add("services__tab-item--active"))})})}var a=new Swiper(".services",{breakpoints:{320:{init:!0,pagination:{el:".swiper-pagination",clickable:!0,bulletClass:"services__bullet",bulletActiveClass:"services__active-bullet"}},1024:{init:!1}}});function n(){window.matchMedia("(min-width: 1024px)").matches?(a.destroy(!1),t()):window.matchMedia("(max-width: 1024px)").matches&&a.init()}e&&(n(),window.addEventListener("resize",n))});
//# sourceMappingURL=main.min.js.map
