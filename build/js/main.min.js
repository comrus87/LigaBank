"use strict";document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".overlay-login"),t=document.querySelector(".modal-login"),a=document.querySelector(".page-header__enter-link"),l=document.querySelector(".modal-login__btn-close"),r=document.querySelector("#login"),n=document.querySelector("#password"),c=document.querySelector("#login-form"),o=document.querySelector(".modal-login__password-btn"),i=document.querySelectorAll(".services__tab-item"),s=document.querySelectorAll(".services__block"),u=document.querySelector(".intro"),d=document.querySelector(".services");function v(){e.style.display="none",t.style.display="none",document.body.style.overflow="",r.value="",n.value=""}t&&(o.addEventListener("mousedown",function(){var e=0,t=setInterval(function(){e++},200);o.addEventListener("mouseup",function(){clearInterval(t),2<e&&("password"===n.getAttribute("type")?n.setAttribute("type","text"):"text"===n.getAttribute("type")&&n.setAttribute("type","password"),e=0)})}),a.addEventListener("click",function(){e.style.display="block",t.style.display="block",document.body.style.overflow="hidden",r.focus()}),l.addEventListener("click",v),document.addEventListener("keydown",function(e){27===e.keyCode&&v()}),c.addEventListener("submit",function(e){e.preventDefault(),localStorage.setItem("Логин",r.value),localStorage.setItem("Пароль",n.value),v()})),u&&new Swiper(".intro",{pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:4e3},speed:700}).init();function p(){function a(e){for(var t=e;t<s.length;t++)s[t].classList.add("services__hide"),s[t].classList.remove("services__show"),i[t].classList.remove("services__tab-item--active")}a(1),i.forEach(function(e,t){e.addEventListener("click",function(){var e;a(0),s[e=t].classList.contains("services__hide")&&(s[e].classList.remove("services__hide"),s[e].classList.add("services__show"),i[e].classList.add("services__tab-item--active"))})})}var y=new Swiper(".services",{breakpoints:{320:{init:!0,pagination:{el:".swiper-pagination",clickable:!0,bulletClass:"services__bullet",bulletActiveClass:"services__active-bullet"}},1024:{init:!1}}});function g(){window.matchMedia("(min-width: 1024px)").matches?(y.destroy(!1),p()):window.matchMedia("(max-width: 1024px)").matches&&y.init()}d&&(g(),window.addEventListener("resize",g));var _=document.querySelector(".calculator__select"),m=document.querySelector(".calculator__select-title"),f=document.querySelector(".calculator__select-list"),S=document.querySelector(".calculator__mortgage-container"),L=document.querySelector(".calculator__avto-container"),b=document.querySelector(".calculator__consumer-container"),q=document.querySelector(".calculator__offer-wrap"),w=document.querySelector(".credit-form"),h={modeCredit:null,mortgage:{totalValue:2e6,initialPay:null,period:null,isCapital:!1}},E=[];function k(e){for(var t=0;t<E.length;t++)E[t].style.display="none";e.style.display="block",q.style.display="block"}E.push(S,L,b),function(){for(var e=0;e<E.length;e++)E[e].style.display="none";q.style.display="none",w.style.display="none"}(),m.addEventListener("click",function(e){e.stopPropagation(),_.classList.contains("calculator__select--active")?_.classList.remove("calculator__select--active"):(_.classList.add("calculator__select--active"),document.addEventListener("click",function(){_.classList.remove("calculator__select--active")}))}),f.addEventListener("click",function(e){switch(h.modeCredit=e.target.getAttribute("data-value"),m.textContent=e.target.textContent,h.modeCredit){case"mortgage":k(S);break;case"avto":k(L);break;case"consumer":k(b)}});var C=S.querySelector(".calculator__input-total"),I=S.querySelector(".calculator__input-initial"),$=S.querySelector(".calculator__range-initial"),x=S.querySelector(".calculator__pay-percent"),D=S.querySelector(".calculator__input-period"),A=S.querySelector(".calculator__btn-minus"),V=S.querySelector(".calculator__btn-plus");function M(e,t,a){t.value="1"===e?a.replace(/^0+/,"")+" рубль":"2"===e||"3"===e||"4"===e?a.replace(/^0+/,"")+" рубля":a.replace(/^0+/,"")+" рублей"}function P(e,t){var a=Math.round(e*t/100),l=String(a).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ");M(l.slice(-1),I,l),h.mortgage.initialPay=a}C.addEventListener("input",function(){C.value=C.value.replace(/[^\d]/g,"").replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 "),C.style.color="#1f1e25",C.style.borderColor="#1f1e25"}),I.addEventListener("input",function(){I.value=I.value.replace(/[^\d]/g,"").replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}),$.addEventListener("change",function(){P(parseInt(C.value.replace(/\D+/g,""),10),$.value),x.textContent=$.value+"%"}),I.addEventListener("change",function(){var e=parseInt(I.value.replace(/\D+/g,""),10),t=parseInt(C.value.replace(/\D+/g,""),10),a=100*e/t;a<10||!e?(P(t,10),$.value=10):100<a?(P(t,100),$.value=100):(P(t,a),$.value=a),x.textContent=$.value+"%"}),C.addEventListener("change",function(){var e=C.value.slice(-1),t=parseInt(C.value.replace(/\D+/g,""),10);12e5<=t&&t<=25e6?(P(h.mortgage.totalValue=t,$.value),C.style.color="#1f1e25",C.style.borderColor="#1f1e25",M(e,C,C.value)):(h.mortgage.totalValue=null,C.value="Некорректное значение",C.style.color="red",C.style.borderColor="red")}),A.addEventListener("click",function(){var e=parseInt(C.value.replace(/\D+/g,""),10),t=String(e).slice(-1);if(13e5<=e){e-=1e5;var a=String(e).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ");M(t,C,a),P(e,$.value),h.mortgage.totalValue=e}}),V.addEventListener("click",function(){var e=parseInt(C.value.replace(/\D+/g,""),10),t=String(e).slice(-1);if(e<=249e5){e+=1e5;var a=String(e).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ");M(t,C,a),P(e,$.value),h.mortgage.totalValue=e}}),D.addEventListener("input",function(){D.value=D.value.replace(/[^\d]/g,"")}),D.addEventListener("change",function(){var e,t,a,l,r=parseInt(D.value.replace(/\D+/g,""),10);r<5?D.value="5 лет":30<r?D.value="30 лет":(e=D,t=r,a=String(t).slice(-1),l=String(t).slice(-2),e.value="11"===l||"12"===l||"13"===l||"14"===l?String(t).replace(/^0+/,"")+" лет":"1"===a?String(t).replace(/^0+/,"")+" год":"2"===a||"3"===a||"4"===a?String(t).replace(/^0+/,"")+" года":String(t).replace(/^0+/,"")+" лет")})});
//# sourceMappingURL=main.min.js.map
