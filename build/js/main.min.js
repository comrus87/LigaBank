"use strict";document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".overlay-login"),t=document.querySelector(".modal-login"),l=document.querySelector(".page-header__enter-link"),a=document.querySelector(".modal-login__btn-close"),r=document.querySelector("#login"),c=document.querySelector("#password"),n=document.querySelector("#login-form"),o=document.querySelector(".modal-login__password-btn"),u=document.querySelectorAll(".services__tab-item"),i=document.querySelectorAll(".services__block"),s=document.querySelector(".intro"),d=document.querySelector(".services");function v(){e.style.display="none",t.style.display="none",document.body.style.overflow="",r.value="",c.value=""}t&&(o.addEventListener("mousedown",function(){var e=0,t=setInterval(function(){e++},200);o.addEventListener("mouseup",function(){clearInterval(t),2<e&&("password"===c.getAttribute("type")?c.setAttribute("type","text"):"text"===c.getAttribute("type")&&c.setAttribute("type","password"),e=0)})}),l.addEventListener("click",function(){e.style.display="block",t.style.display="block",document.body.style.overflow="hidden",r.focus()}),a.addEventListener("click",v),document.addEventListener("keydown",function(e){27===e.keyCode&&v()}),n.addEventListener("submit",function(e){e.preventDefault(),localStorage.setItem("Логин",r.value),localStorage.setItem("Пароль",c.value),v()})),s&&new Swiper(".intro",{pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:4e3},speed:700}).init();function p(){function l(e){for(var t=e;t<i.length;t++)i[t].classList.add("services__hide"),i[t].classList.remove("services__show"),u[t].classList.remove("services__tab-item--active")}l(1),u.forEach(function(e,t){e.addEventListener("click",function(){var e;l(0),i[e=t].classList.contains("services__hide")&&(i[e].classList.remove("services__hide"),i[e].classList.add("services__show"),u[e].classList.add("services__tab-item--active"))})})}var y=new Swiper(".services",{breakpoints:{320:{init:!0,pagination:{el:".swiper-pagination",clickable:!0,bulletClass:"services__bullet",bulletActiveClass:"services__active-bullet"}},1024:{init:!1}}});function _(){window.matchMedia("(min-width: 1024px)").matches?(y.destroy(!1),p()):window.matchMedia("(max-width: 1024px)").matches&&y.init()}d&&(_(),window.addEventListener("resize",_));var m=document.querySelector(".calculator__select"),f=document.querySelector(".calculator__select-title"),g=document.querySelector(".calculator__select-list"),S=document.querySelector(".calculator__mortgage-container"),q=document.querySelector(".calculator__avto-container"),L=document.querySelector(".calculator__consumer-container"),b=document.querySelector(".calculator__offer-wrap"),h=document.querySelector(".credit-form"),w=document.querySelector("#target-form"),k={modeCredit:null},E=[];function C(e){for(var t=0;t<E.length;t++)E[t].style.display="none";e.style.display="block",b.style.display="block",h.style.display="none"}E.push(S,q,L),function(){for(var e=0;e<E.length;e++)E[e].style.display="none";b.style.display="none",h.style.display="none"}(),f.addEventListener("click",function(e){e.stopPropagation(),m.classList.contains("calculator__select--active")?m.classList.remove("calculator__select--active"):(m.classList.add("calculator__select--active"),document.addEventListener("click",function(){m.classList.remove("calculator__select--active")}))}),g.addEventListener("click",function(e){switch(k.modeCredit=e.target.getAttribute("data-value"),f.textContent=e.target.textContent,k.modeCredit){case"mortgage":C(S),w.value="Ипотека";break;case"avto":C(q),w.value="Автокредит";break;case"consumer":C(L),w.value="Потребительский кредит"}});var x=47e4,I=5e5,D=15,$=S.querySelector(".calculator__input-total"),A=S.querySelector(".calculator__input-initial"),M=S.querySelector(".calculator__range-initial"),F=S.querySelector(".calculator__pay-percent"),z=S.querySelector(".calculator__input-period"),O=S.querySelector(".calculator__range-period"),P=S.querySelector(".calculator__btn-minus"),j=S.querySelector(".calculator__btn-plus"),B=document.querySelector(".calculator__offer-column"),G=document.querySelector(".calculator__offer-sum"),H=document.querySelector(".calculator__offer-percent"),J=document.querySelector(".calculator__offer-pay"),K=document.querySelector(".calculator__offer-required"),N=S.querySelector(".calculator__capital input"),Q=document.querySelector(".calculator__warning"),R=document.querySelector(".calculator__fill-form"),T=document.querySelector(".credit-form"),U=document.querySelector("#total-sum-form"),V=document.querySelector("#initial-pay-form"),W=document.querySelector("#peroid-form");function X(e){var t=String(e).slice(-1);return"1"===t?String(e).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ").replace(/^0+/,"")+" рубль":"2"===t||"3"===t||"4"===t?String(e).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ").replace(/^0+/,"")+" рубля":String(e).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ").replace(/^0+/,"")+" рублей"}function Y(e,t){var l=String(t).slice(-1),a=String(t).slice(-2);e.value="11"===a||"12"===a||"13"===a||"14"===a?String(t).replace(/^0+/,"")+" лет":"1"===l?String(t).replace(/^0+/,"")+" год":"2"===l||"3"===l||"4"===l?String(t).replace(/^0+/,"")+" года":String(t).replace(/^0+/,"")+" лет"}function Z(e,t){var l=Math.round(e*t/100);A.value=X(l)}function ee(){var e,t,l=parseInt($.value.replace(/\D+/g,""),10),a=parseInt(A.value.replace(/\D+/g,""),10),r=M.value,c=parseInt(z.value.replace(/\D+/g,""),10);(e=N.checked?l-a-x:l-a)<I?(B.style.display="none",Q.style.display="block"):(B.style.display="block",Q.style.display="none"),r<D?(t=9.4/1200,H.textContent="9,40%"):(t=8.5/1200,H.textContent="8,50%"),G.textContent=X(e);var n=12*c,o=e*(t+t/(Math.pow(1+t,n)-1)),u=100*o/45;J.textContent=X(o.toFixed()),K.textContent=X(u.toFixed()),U.value=$.value,V.value=A.value,W.value=z.value}$.addEventListener("input",function(){$.value=$.value.replace(/[^\d]/g,"").replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 "),$.style.color="#1f1e25",$.style.borderColor="#1f1e25"}),$.addEventListener("change",function(){var e=parseInt($.value.replace(/\D+/g,""),10);12e5<=e&&e<=25e6?(Z(e,M.value),$.style.color="#1f1e25",$.style.borderColor="#1f1e25",$.value=X(e)):($.value="Некорректное значение",$.style.color="red",$.style.borderColor="red")}),P.addEventListener("click",function(){var e=parseInt($.value.replace(/\D+/g,""),10);13e5<=e&&(e-=1e5,$.value=X(e),Z(e,M.value),ee())}),j.addEventListener("click",function(){var e=parseInt($.value.replace(/\D+/g,""),10);e<=249e5&&(e+=1e5,$.value=X(e),Z(e,M.value),ee())}),A.addEventListener("input",function(){A.value=A.value.replace(/[^\d]/g,"").replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}),A.addEventListener("change",function(){var e=parseInt(A.value.replace(/\D+/g,""),10),t=parseInt($.value.replace(/\D+/g,""),10),l=100*e/t;l<10||!e?(Z(t,10),M.value=10):100<l?(Z(t,100),M.value=100):(Z(t,l),M.value=l),F.textContent=M.value+"%"}),M.addEventListener("change",function(){Z(parseInt($.value.replace(/\D+/g,""),10),M.value),F.textContent=M.value+"%"}),z.addEventListener("input",function(){z.value=z.value.replace(/[^\d]/g,"")}),z.addEventListener("change",function(){var e=parseInt(z.value.replace(/\D+/g,""),10);e<5||!e?(z.value="5 лет",O.value=5):30<e?(z.value="30 лет",O.value=30):(Y(z,e),O.value=e)}),O.addEventListener("change",function(){var e=parseInt(O.value.replace(/\D+/g,""),10);Y(z,e)}),S.addEventListener("change",ee),R.addEventListener("click",function(){T.style.display="block"})});
//# sourceMappingURL=main.min.js.map
