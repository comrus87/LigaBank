"use strict";document.addEventListener("DOMContentLoaded",function(){new SmoothScroll('a[href*="#"]',{speed:500});var e=document.querySelector(".overlay-login"),t=document.querySelector(".modal-login"),a=document.querySelector(".page-header__enter-link"),n=document.querySelector(".modal-login__btn-close"),o=document.querySelector("#login"),l=document.querySelector("#password"),r=document.querySelector("#login-form"),c=document.querySelector(".modal-login__password-btn");function u(){e.style.display="none",t.style.display="none",document.body.style.overflow="",o.value="",l.value=""}t&&(c.addEventListener("mousedown",function(){var e=0,t=setInterval(function(){e++},200);c.addEventListener("mouseup",function(){clearInterval(t),2<e&&("password"===l.getAttribute("type")?l.setAttribute("type","text"):"text"===l.getAttribute("type")&&l.setAttribute("type","password"),e=0)})}),a.addEventListener("click",function(){e.style.display="block",t.style.display="block",document.body.style.overflow="hidden",o.focus()}),n.addEventListener("click",u),r.addEventListener("submit",function(e){e.preventDefault(),localStorage.setItem("Логин",o.value),localStorage.setItem("Пароль",l.value),u()}),document.addEventListener("keydown",function(e){27===e.keyCode&&(u(),me())})),document.querySelector(".intro")&&new Swiper(".intro",{pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:4e3},speed:700,loop:!0}).init();var i=document.querySelectorAll(".services__tab-item"),s=document.querySelectorAll(".services__block"),d=document.querySelector(".services");function v(){function a(e){for(var t=e;t<s.length;t++)s[t].classList.add("services__hide"),s[t].classList.remove("services__show"),i[t].classList.remove("services__tab-item--active")}a(1),i.forEach(function(e,t){e.addEventListener("click",function(){var e;a(0),s[e=t].classList.contains("services__hide")&&(s[e].classList.remove("services__hide"),s[e].classList.add("services__show"),i[e].classList.add("services__tab-item--active"))})})}var p=new Swiper(".services",{breakpoints:{320:{init:!0,pagination:{el:".swiper-pagination",clickable:!0,bulletClass:"services__bullet",bulletActiveClass:"services__active-bullet"}},1024:{init:!1}}});function y(){window.matchMedia("(min-width: 1024px)").matches?(p.destroy(!1),v()):window.matchMedia("(max-width: 1024px)").matches&&p.init()}d&&(y(),window.addEventListener("resize",y));var m=document.querySelector(".calculator__select"),_=document.querySelector(".calculator__select-title"),g=document.querySelector(".calculator__select-list"),f=document.querySelector(".calculator__mortgage-container"),S=document.querySelector(".calculator__avto-container"),b=document.querySelector(".calculator__consumer-container"),q=document.querySelector(".calculator__offer-wrap"),h=document.querySelector(".credit-form"),L=document.querySelector("#target-form"),k=document.querySelector("#total-sum-form"),E=document.querySelector("#initial-pay-form"),C=document.querySelector("#period-form"),x=document.querySelector(".calculator__offer-column"),w=document.querySelector(".calculator__offer-sum-title"),I=document.querySelector(".calculator__offer-sum"),D=document.querySelector(".calculator__offer-percent"),z=document.querySelector(".calculator__offer-pay"),O=document.querySelector(".calculator__offer-required"),$=document.querySelector(".calculator__warning"),A=document.querySelector(".calculator__warning-title"),M=document.querySelector(".calculator__fill-form"),Z={modeCredit:null},F=[];function j(e){for(var t=0;t<F.length;t++)F[t].style.display="none";e.style.display="block",q.style.display="block",h.style.display="none"}F.push(f,S,b),function(){for(var e=0;e<F.length;e++)F[e].style.display="none";q.style.display="none",h.style.display="none"}(),_.addEventListener("click",function(e){e.stopPropagation(),m.classList.contains("calculator__select--active")?m.classList.remove("calculator__select--active"):(m.classList.add("calculator__select--active"),document.addEventListener("click",function(){m.classList.remove("calculator__select--active")}))}),g.addEventListener("click",function(e){switch(Z.modeCredit=e.target.getAttribute("data-value"),_.textContent=e.target.textContent,Z.modeCredit){case"mortgage":j(f),L.value="Ипотека",w.textContent="Сумма ипотеки",ce();break;case"avto":j(S),L.value="Автокредит",w.textContent="Сумму автокредита",we();break;case"consumer":j(b),L.value="Потребительский кредит",w.textContent="Сумму кредита",je()}});var G=1e5,P=47e4,R=5e5,V=15,H=100,B=f.querySelector(".calculator__input-total"),J=f.querySelector(".calculator__input-initial"),K=f.querySelector(".calculator__range-initial"),N=f.querySelector(".calculator__input-period"),Q=f.querySelector(".calculator__capital input"),T=f.querySelector(".calculator__pay-percent"),U=f.querySelector(".calculator__range-period"),W=f.querySelector(".calculator__btn-minus"),X=f.querySelector(".calculator__btn-plus");function Y(e){var t=String(e).slice(-1);return"1"===t?String(e).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ").replace(/^0+/,"")+" рубль":"2"===t||"3"===t||"4"===t?String(e).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ").replace(/^0+/,"")+" рубля":String(e).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ").replace(/^0+/,"")+" рублей"}function ee(e,t){var a=String(t).slice(-1),n=String(t).slice(-2);e.value="11"===n||"12"===n||"13"===n||"14"===n?String(t).replace(/^0+/,"")+" лет":"1"===a?String(t).replace(/^0+/,"")+" год":"2"===a||"3"===a||"4"===a?String(t).replace(/^0+/,"")+" года":String(t).replace(/^0+/,"")+" лет"}function te(e){e.value=e.value.replace(/[^\d]/g,"").replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 "),e.style.color="#1f1e25",e.style.borderColor="#1f1e25"}function ae(e,t,a,n,o){var l=parseInt(e.value.replace(/\D+/g,""),10);n<=l&&l<=o?(ne(l,t,a),e.style.color="#1f1e25",e.style.borderColor="#1f1e25",e.value=Y(l)):(e.value="Некорректное значение",e.style.color="red",e.style.borderColor="red")}function ne(e,t,a){var n=Math.round(e*t/H);a.value=Y(n)}function oe(e,t,a,n){ne(parseInt(e.value.replace(/\D+/g,""),10),t.value,a),n.textContent=t.value+"%"}function le(e,t,a,n,o){var l=parseInt(e.value.replace(/\D+/g,""),10),r=parseInt(t.value.replace(/\D+/g,""),10),c=l*H/r;c<n||!l?(ne(r,n,e),a.value=n):H<c?(ne(r,H,e),a.value=H):(ne(r,c,e),a.value=c),o.textContent=a.value+"%"}function re(e,t,a,n){var o=parseInt(e.value.replace(/\D+/g,""),10);o<a||!o?(e.value=a+" лет",t.value=a):n<o?(e.value=n+" лет",t.value=n):(ee(e,o),t.value=o)}function ce(){var e,t,a=parseInt(B.value.replace(/\D+/g,""),10),n=parseInt(J.value.replace(/\D+/g,""),10),o=parseInt(K.value.replace(/\D+/g,""),10),l=parseInt(N.value.replace(/\D+/g,""),10);(e=Q.checked?a-n-P:a-n)<R?(x.style.display="none",$.style.display="block",A.textContent="Наш банк не выдаёт ипотечные кредиты меньше 500 000 рублей."):(x.style.display="block",$.style.display="none"),o<V?(t=9.4/1200,D.textContent="9,40%"):(t=8.5/1200,D.textContent="8,50%"),I.textContent=Y(e);var r=12*l,c=e*(t+t/(Math.pow(1+t,r)-1)),u=100*c/45;z.textContent=Y(c.toFixed()),O.textContent=Y(u.toFixed()),k.value=B.value,E.value=J.value,C.value=N.value,Fe.style.display="flex"}B.addEventListener("input",function(){te(B)}),B.addEventListener("change",function(){var e=K.value;ae(B,e,J,12e5,25e6)}),W.addEventListener("click",function(){var e=parseInt(B.value.replace(/\D+/g,""),10);13e5<=e&&(e-=G,B.value=Y(e),ne(e,K.value,J),ce())}),X.addEventListener("click",function(){var e=parseInt(B.value.replace(/\D+/g,""),10);e<=249e5&&(e+=G,B.value=Y(e),ne(e,K.value,J),ce())}),J.addEventListener("input",function(){J.value=J.value.replace(/[^\d]/g,"").replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}),J.addEventListener("change",function(){le(J,B,K,10,T)}),K.addEventListener("change",function(){oe(B,K,J,T)}),N.addEventListener("input",function(){N.value=N.value.replace(/[^\d]/g,"")}),N.addEventListener("change",function(){re(N,U,5,30)}),U.addEventListener("change",function(){var e=parseInt(U.value.replace(/\D+/g,""),10);ee(N,e)}),f.addEventListener("change",ce);var ue=document.querySelector(".credit-form__name-input"),ie=document.querySelector(".credit-form__phone-input"),se=document.querySelector(".credit-form__email-input"),de=document.querySelector(".credit-form form"),ve=document.querySelector(".modal-success"),pe=document.querySelector(".overlay-success"),ye=document.querySelector(".modal-success__btn-close");M.addEventListener("click",function(){h.style.display="block",ue.focus()});function me(){ve.style.display="none",pe.style.display="none",document.body.style.overflow=""}de&&(IMask(ie,{mask:"+{7}(000)000-00-00"}),se.addEventListener("input",function(){var e=se.value.trim();!1===/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(e)&&""!==e?se.setCustomValidity("Введите корректный E-mail"):se.setCustomValidity("")}),de.addEventListener("submit",function(e){e.preventDefault(),localStorage.setItem("ФИО",ue.value),localStorage.setItem("Телефон",ie.value),localStorage.setItem("E-mail",se.value),de.reset(),h.style.display="none",ve.style.display="block",pe.style.display="block",document.body.style.overflow="hidden"}),ye.addEventListener("click",me));var _e=2e5,ge=2e6,fe=S.querySelector(".calculator__input-total"),Se=S.querySelector(".calculator__input-initial"),be=S.querySelector(".calculator__range-initial"),qe=S.querySelector(".calculator__input-period"),he=S.querySelector(".calculator__range-period"),Le=S.querySelector(".calculator__pay-percent"),ke=S.querySelector(".calculator__btn-minus"),Ee=S.querySelector(".calculator__btn-plus"),Ce=S.querySelector(".calculator__kasko input"),xe=S.querySelector(".calculator__insurance input");function we(){var e,t=parseInt(fe.value.replace(/\D+/g,""),10),a=parseInt(Se.value.replace(/\D+/g,""),10),n=parseInt(qe.value.replace(/\D+/g,""),10),o=t-a;o<_e?(x.style.display="none",$.style.display="block",A.textContent="Наш банк не выдаёт автокредиты кредиты меньше 200 000 рублей."):(x.style.display="block",$.style.display="none"),Ce.checked&&xe.checked?(e=3.5/1200,D.textContent="3,5%"):Ce.checked||xe.checked?(e=8.5/1200,D.textContent="8,5%"):t<ge?(e=16/1200,D.textContent="16%"):(e=.0125,D.textContent="15%"),I.textContent=Y(o);var l=12*n,r=o*(e+e/(Math.pow(1+e,l)-1)),c=100*r/45;z.textContent=Y(r.toFixed()),O.textContent=Y(c.toFixed()),k.value=fe.value,E.value=Se.value,C.value=qe.value,Fe.style.display="flex"}fe.addEventListener("input",function(){te(fe)}),fe.addEventListener("change",function(){var e=be.value;ae(fe,e,Se,5e5,5e6)}),ke.addEventListener("click",function(){var e=parseInt(fe.value.replace(/\D+/g,""),10);55e4<=e&&(e-=5e4,fe.value=Y(e),ne(e,be.value,Se),we())}),Ee.addEventListener("click",function(){var e=parseInt(fe.value.replace(/\D+/g,""),10);e<=495e4&&(e+=5e4,fe.value=Y(e),ne(e,be.value,Se),we())}),Se.addEventListener("input",function(){Se.value=Se.value.replace(/[^\d]/g,"").replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}),Se.addEventListener("change",function(){le(Se,fe,be,20,Le)}),be.addEventListener("change",function(){oe(fe,be,Se,Le)}),qe.addEventListener("input",function(){qe.value=qe.value.replace(/[^\d]/g,"")}),qe.addEventListener("change",function(){re(qe,he,1,5)}),he.addEventListener("change",function(){var e=parseInt(he.value.replace(/\D+/g,""),10);ee(qe,e)}),S.addEventListener("change",we);var Ie=75e4,De=2e6,ze=b.querySelector(".calculator__input-total"),Oe=b.querySelector(".calculator__input-period"),$e=b.querySelector(".calculator__range-period"),Ae=b.querySelector(".calculator__btn-minus"),Me=b.querySelector(".calculator__btn-plus"),Ze=b.querySelector(".calculator__participant input"),Fe=document.querySelector(".credit-form__initial-item");function je(){var e,t=parseInt(ze.value.replace(/\D+/g,""),10),a=parseInt(Oe.value.replace(/\D+/g,""),10);if(t<Ie?(e=15,D.textContent="15%"):Ie<=t&&t<De?(e=12.5,D.textContent="12,5%"):(e=9.5,D.textContent="9,5%"),Ze.checked){var n=(e-=.5)+"%";D.textContent=n.replace(".",",")}e/=1200,I.textContent=Y(t);var o=12*a,l=t*(e+e/(Math.pow(1+e,o)-1)),r=100*l/45;z.textContent=Y(l.toFixed()),O.textContent=Y(r.toFixed()),k.value=ze.value,C.value=Oe.value,Fe.style.display="none"}ze.addEventListener("input",function(){te(ze)}),ze.addEventListener("change",function(){var e=parseInt(ze.value.replace(/\D+/g,""),10);5e4<=e&&e<=3e6?(ze.style.color="#1f1e25",ze.style.borderColor="#1f1e25",ze.value=Y(e)):(ze.value="Некорректное значение",ze.style.color="red",ze.style.borderColor="red")}),Ae.addEventListener("click",function(){var e=parseInt(ze.value.replace(/\D+/g,""),10);1e5<=e&&(e-=5e4,ze.value=Y(e),je())}),Me.addEventListener("click",function(){var e=parseInt(ze.value.replace(/\D+/g,""),10);e<=295e4&&(e+=5e4,ze.value=Y(e),je())}),Oe.addEventListener("input",function(){Oe.value=Oe.value.replace(/[^\d]/g,"")}),Oe.addEventListener("change",function(){re(Oe,$e,1,7)}),$e.addEventListener("change",function(){var e=parseInt($e.value.replace(/\D+/g,""),10);ee(Oe,e)}),b.addEventListener("change",je);var Ge=document.querySelector("#russia"),Pe=document.querySelector("#sng"),Re=document.querySelector("#europe"),Ve=document.querySelector(".departments__filter-form");ymaps.ready(function(){var e=new ymaps.Map("map",{center:[55.45,37.36],zoom:3,controls:[],behaviors:["drag"]}),t=ymaps.templateLayoutFactory.createClass('<div><button type="button" id="zoom-in" class="departments__btn-zoom departments__btn-zoom-in">+</button><button type="button" id="zoom-out" class="departments__btn-zoom departments__btn-zoom-out">-</buton></div>',{build:function(){t.superclass.build.call(this),this.zoomInCallback=ymaps.util.bind(this.zoomIn,this),this.zoomOutCallback=ymaps.util.bind(this.zoomOut,this),document.querySelector("#zoom-in").addEventListener("click",this.zoomInCallback),document.querySelector("#zoom-out").addEventListener("click",this.zoomOutCallback)},clear:function(){document.querySelector("#zoom-in").removeEventListener("click",this.zoomInCallback),document.querySelector("#zoom-out").removeEventListener("click",this.zoomOutCallback),t.superclass.clear.call(this)},zoomIn:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()-1,{checkZoomRange:!0})}}),a=new ymaps.control.ZoomControl({options:{layout:t}});e.controls.add(a,{position:{top:170,right:10}});var n=ymaps.templateLayoutFactory.createClass('<button type="button" id="geo-location" class="departments__geo-location"></button>',{}),o=new ymaps.control.GeolocationControl({options:{layout:n}});e.controls.add(o,{position:{top:250,right:10}});function l(e){for(var t=new ymaps.GeoObjectCollection({},{iconLayout:"default#image",iconImageHref:"img/marker.png"}),a=0;a<e.length;a++)t.add(new ymaps.Placemark(e[a]));return t}var r=l([[55.75,37.61],[59.93,30.31],[51.54,46],[67.61,33.66],[57.15,65.53],[54.99,73.36]]),c=l([[40.36,49.83],[41.31,69.27],[53.9,27.56],[43.23,76.94]]),u=l([[48.85,2.35],[50.08,14.42],[51.5,-.12],[41.9,12.49]]);function i(){Ge.checked?e.geoObjects.add(r):e.geoObjects.remove(r),Pe.checked?e.geoObjects.add(c):e.geoObjects.remove(c),Re.checked?e.geoObjects.add(u):e.geoObjects.remove(u)}i(),Ve.addEventListener("change",i)})});
//# sourceMappingURL=main.min.js.map
