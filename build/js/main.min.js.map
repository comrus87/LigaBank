{"version":3,"sources":["main.js"],"names":["document","addEventListener","overlayLogin","querySelector","modalLogin","btnOpenModalLogin","btnCloseModalLogin","loginInput","passwordInput","formLogin","btnShowPassword","closeLoginModal","style","display","body","overflow","value","count","timerId","setInterval","clearInterval","getAttribute","setAttribute","focus","evt","preventDefault","localStorage","setItem","keyCode","closeModalSuccess","Swiper","pagination","el","clickable","autoplay","delay","speed","init","tabs","querySelectorAll","tabContents","servicesPage","switchTabs","hideTabContent","a","i","length","classList","add","remove","forEach","tab","b","contains","sliderServices","breakpoints","320","bulletClass","bulletActiveClass","1024","changeServicePage","window","matchMedia","matches","destroy","select","selectTitle","selectList","mortgageBlock","avtoBlock","consumerBlock","offerBlock","creditFormBlock","targetForm","totalSumForm","initialPayForm","periodForm","offer","sumOfferTitle","sumOffer","percentOffer","payOffer","requiredOffer","offerWarning","offerWarningTitle","btnOpenForm","state","modeCredit","arrBlocks","showCreditBlock","mode","push","hiddenCreditBlocks","stopPropagation","target","textContent","onMortgageCalcChange","onAvtoCalcChange","onConsumerCalcChange","STEP_MORTGAGE","MATERNITY_CAPITAL","MIN_SUM_MORTGAGE","PERCENT_POINT_MORTGAGE","MAX_PERSENT","mortgageTotalInput","mortgageInitialInput","mortgageInitialRange","mortgagePeriodInput","maternityCapital","mortgagePayPercent","mortgagePeriodRange","mortgageBtnMinus","mortgageBtnPlus","showCurrency","lastNumber","String","slice","replace","showPeriod","input","twoLastNumber","addStyleTotalInput","totalInput","color","borderColor","changeTotalInput","initialRangeValue","initialInput","minCoint","maxCoint","valueNumber","parseInt","changeInitialInput","totalValue","persent","initialValueNumber","Math","round","calcInitialRange","initialRange","payPercent","calcInitialInput","minPersent","valueNumberTotal","percent","changePeriodInput","periodInput","periodRange","minPeriod","maxPeriod","mortgageSum","percentRate","valueTotal","valueInitial","valueInitialRange","valuePeriod","checked","monthlyPow","monthlyPay","pow","requiredProfit","toFixed","initialPayBlockForm","MIN_COINT_MORTGAGE","MAX_COINT_MORTGAGE","nameForm","phoneForm","emailForm","creditForm","modalSuccess","overlaySuccess","btnCloseModalSuccess","IMask","mask","trim","test","setCustomValidity","reset","MIN_SUM_AVTO","COINT_POINT_AVTO","avtoTotalInput","avtoInitialInput","avtoInitialRange","avtoPeriodInput","avtoPeriodRange","avtoPayPercent","avtoBtnMinus","avtoBtnPlus","kasko","insurance","avtoSum","MIN_COINT_AVTO","MAX_COINT_AVTO","FIRST_POINT_CONSUMER","SECOND_POINT_CONSUMER","consumerTotalInput","consumerPeriodInput","consumerPeriodRange","consumerBtnMinus","consumerBtnPlus","participant","consumerSum","percentRateString","MIN_COINT_CONSUMER","MAX_COINT_CONSUMER","russiaInput","sngInput","europeInput","mapFilter","ymaps","ready","myMap","Map","center","zoom","controls","behaviors","madeCollection","coords","collection","GeoObjectCollection","iconLayout","iconImageHref","Placemark","russiaCollection","sngCollection","europeCollection","onFilterChange","geoObjects"],"mappings":"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","file":"main.min.js","sourcesContent":["'use strict';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n\n  // Попап авторизации\n\n  var ESC_KEYCODE = 27;\n  var overlayLogin = document.querySelector('.overlay-login');\n  var modalLogin = document.querySelector('.modal-login');\n  var btnOpenModalLogin = document.querySelector('.page-header__enter-link');\n  var btnCloseModalLogin = document.querySelector('.modal-login__btn-close');\n  var loginInput = document.querySelector('#login');\n  var passwordInput = document.querySelector('#password');\n  var formLogin = document.querySelector('#login-form');\n  var btnShowPassword = document.querySelector('.modal-login__password-btn');\n\n  function openLoginModal() {\n    overlayLogin.style.display = 'block';\n    modalLogin.style.display = 'block';\n    document.body.style.overflow = 'hidden';\n    loginInput.focus();\n  }\n\n  function closeLoginModal() {\n    overlayLogin.style.display = 'none';\n    modalLogin.style.display = 'none';\n    document.body.style.overflow = '';\n    loginInput.value = '';\n    passwordInput.value = '';\n  }\n\n\n  function changeShowPassword() {\n    if (passwordInput.getAttribute('type') === 'password') {\n      passwordInput.setAttribute('type', 'text');\n    } else if (passwordInput.getAttribute('type') === 'text') {\n      passwordInput.setAttribute('type', 'password');\n    }\n  }\n\n  if (modalLogin) {\n    btnShowPassword.addEventListener('mousedown', function () {\n      var count = 0;\n      var timerId = setInterval(function () {\n        count++;\n      }, 200);\n\n      btnShowPassword.addEventListener('mouseup', function () {\n        clearInterval(timerId);\n        if (count > 2) {\n          changeShowPassword();\n          count = 0;\n        }\n      });\n    });\n\n    btnOpenModalLogin.addEventListener('click', openLoginModal);\n    btnCloseModalLogin.addEventListener('click', closeLoginModal);\n\n    formLogin.addEventListener('submit', function (evt) {\n      evt.preventDefault();\n      localStorage.setItem('Логин', loginInput.value);\n      localStorage.setItem('Пароль', passwordInput.value);\n      closeLoginModal();\n    });\n\n    document.addEventListener('keydown', function (evt) {\n      if (evt.keyCode === ESC_KEYCODE) {\n        closeLoginModal();\n        closeModalSuccess();\n      }\n    });\n  }\n\n  // Сладйдер\n\n  var introPage = document.querySelector('.intro');\n\n  if (introPage) {\n    var sliderIntro = new Swiper('.intro', {\n      pagination: {\n        el: '.swiper-pagination',\n        clickable: true\n      },\n      autoplay: {\n        delay: 4000,\n      },\n      speed: 700\n    });\n\n    sliderIntro.init();\n  }\n\n  // Блок услуги\n\n  var tabs = document.querySelectorAll('.services__tab-item');\n  var tabContents = document.querySelectorAll('.services__block');\n  var servicesPage = document.querySelector('.services');\n\n  function switchTabs() {\n    function hideTabContent(a) {\n      for (var i = a; i < tabContents.length; i++) {\n        tabContents[i].classList.add('services__hide');\n        tabContents[i].classList.remove('services__show');\n\n        tabs[i].classList.remove('services__tab-item--active');\n      }\n    }\n\n    hideTabContent(1);\n\n    function showTabContent(b) {\n      if (tabContents[b].classList.contains('services__hide')) {\n        tabContents[b].classList.remove('services__hide');\n        tabContents[b].classList.add('services__show');\n        tabs[b].classList.add('services__tab-item--active');\n      }\n    }\n\n    tabs.forEach(function (tab, i) {\n      tab.addEventListener('click', function () {\n        hideTabContent(0);\n        showTabContent(i);\n      });\n    });\n  }\n\n  var sliderServices = new Swiper('.services', {\n    breakpoints: {\n      320: {\n        init: true,\n        pagination: {\n          el: '.swiper-pagination',\n          clickable: true,\n          bulletClass: 'services__bullet',\n          bulletActiveClass: 'services__active-bullet'\n        }\n      },\n      1024: {\n        init: false\n      }\n    }\n  });\n\n  function changeServicePage() {\n    if (window.matchMedia('(min-width: 1024px)').matches) {\n      sliderServices.destroy(false);\n      switchTabs();\n    } else if (window.matchMedia('(max-width: 1024px)').matches) {\n      sliderServices.init();\n    }\n  }\n\n  if (servicesPage) {\n    changeServicePage();\n    window.addEventListener('resize', changeServicePage);\n  }\n\n  // Блок калькулятор\n\n  var ERROR_EMAIL_MESSAGE = 'Введите корректный E-mail';\n  var select = document.querySelector('.calculator__select');\n  var selectTitle = document.querySelector('.calculator__select-title');\n  var selectList = document.querySelector('.calculator__select-list');\n  var mortgageBlock = document.querySelector('.calculator__mortgage-container');\n  var avtoBlock = document.querySelector('.calculator__avto-container');\n  var consumerBlock = document.querySelector('.calculator__consumer-container');\n  var offerBlock = document.querySelector('.calculator__offer-wrap');\n  var creditFormBlock = document.querySelector('.credit-form');\n  var targetForm = document.querySelector('#target-form');\n  var totalSumForm = document.querySelector('#total-sum-form');\n  var initialPayForm = document.querySelector('#initial-pay-form');\n  var periodForm = document.querySelector('#period-form');\n  var offer = document.querySelector('.calculator__offer-column');\n  var sumOfferTitle = document.querySelector('.calculator__offer-sum-title');\n  var sumOffer = document.querySelector('.calculator__offer-sum');\n  var percentOffer = document.querySelector('.calculator__offer-percent');\n  var payOffer = document.querySelector('.calculator__offer-pay');\n  var requiredOffer = document.querySelector('.calculator__offer-required');\n  var offerWarning = document.querySelector('.calculator__warning');\n  var offerWarningTitle = document.querySelector('.calculator__warning-title');\n  var btnOpenForm = document.querySelector('.calculator__fill-form');\n\n  var state = {\n    modeCredit: null\n  };\n\n\n  var arrBlocks = [];\n  arrBlocks.push(mortgageBlock, avtoBlock, consumerBlock);\n\n  function hiddenCreditBlocks() {\n    for (var i = 0; i < arrBlocks.length; i++) {\n      arrBlocks[i].style.display = 'none';\n    }\n    offerBlock.style.display = 'none';\n    creditFormBlock.style.display = 'none';\n  }\n\n  hiddenCreditBlocks();\n\n  function toggleSelect(evt) {\n    evt.stopPropagation();\n    if (!select.classList.contains('calculator__select--active')) {\n      select.classList.add('calculator__select--active');\n      document.addEventListener('click', function () {\n        select.classList.remove('calculator__select--active');\n      });\n    } else {\n      select.classList.remove('calculator__select--active');\n    }\n  }\n\n  selectTitle.addEventListener('click', toggleSelect);\n\n  function showCreditBlock(mode) {\n    for (var i = 0; i < arrBlocks.length; i++) {\n      arrBlocks[i].style.display = 'none';\n    }\n    mode.style.display = 'block';\n    offerBlock.style.display = 'block';\n    creditFormBlock.style.display = 'none';\n  }\n\n  selectList.addEventListener('click', function (evt) {\n    state.modeCredit = evt.target.getAttribute('data-value');\n    selectTitle.textContent = evt.target.textContent;\n\n    switch (state.modeCredit) {\n      case 'mortgage':\n        showCreditBlock(mortgageBlock);\n        targetForm.value = 'Ипотека';\n        sumOfferTitle.textContent = 'Сумма ипотеки';\n        onMortgageCalcChange();\n        break;\n      case 'avto':\n        showCreditBlock(avtoBlock);\n        targetForm.value = 'Автокредит';\n        sumOfferTitle.textContent = 'Сумму автокредита';\n        onAvtoCalcChange();\n        break;\n      case 'consumer':\n        showCreditBlock(consumerBlock);\n        targetForm.value = 'Потребительский кредит';\n        sumOfferTitle.textContent = 'Сумму кредита';\n        onConsumerCalcChange();\n        break;\n    }\n  });\n\n  // иптоека\n  var STEP_MORTGAGE = 100000;\n  var MIN_COINT_MORTGAGE = 1200000;\n  var MAX_COINT_MORTGAGE = 25000000;\n  var MIN_COINT_BTN_MORTGAGE = MIN_COINT_MORTGAGE + STEP_MORTGAGE;\n  var MAX_COINT_BTN_MORTGAGE = MAX_COINT_MORTGAGE - STEP_MORTGAGE;\n  var MATERNITY_CAPITAL = 470000;\n  var MIN_SUM_MORTGAGE = 500000;\n  var MIN_PERSENT_MORTGAGE = 10;\n  var MIN_PERIOD_MORTGAGE = 5;\n  var MAX_PERIOD_MORTGAGE = 30;\n  var PERCENT_POINT_MORTGAGE = 15;\n  var MAX_PERSENT = 100;\n  var mortgageTotalInput = mortgageBlock.querySelector('.calculator__input-total');\n  var mortgageInitialInput = mortgageBlock.querySelector('.calculator__input-initial');\n  var mortgageInitialRange = mortgageBlock.querySelector('.calculator__range-initial');\n  var mortgagePeriodInput = mortgageBlock.querySelector('.calculator__input-period');\n  var maternityCapital = mortgageBlock.querySelector('.calculator__capital input');\n  var mortgagePayPercent = mortgageBlock.querySelector('.calculator__pay-percent');\n  var mortgagePeriodRange = mortgageBlock.querySelector('.calculator__range-period');\n  var mortgageBtnMinus = mortgageBlock.querySelector('.calculator__btn-minus');\n  var mortgageBtnPlus = mortgageBlock.querySelector('.calculator__btn-plus');\n\n\n  function showCurrency(value) {\n    var lastNumber = String(value).slice(-1);\n    if (lastNumber === '1') {\n      return String(value).replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ').replace(/^0+/, '') + ' рубль';\n    } else if (lastNumber === '2' || lastNumber === '3' || lastNumber === '4') {\n      return String(value).replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ').replace(/^0+/, '') + ' рубля';\n    } else {\n      return String(value).replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ').replace(/^0+/, '') + ' рублей';\n    }\n  }\n\n  function showPeriod(input, value) {\n    var lastNumber = String(value).slice(-1);\n    var twoLastNumber = String(value).slice(-2);\n\n    if (twoLastNumber === '11' || twoLastNumber === '12' || twoLastNumber === '13' || twoLastNumber === '14') {\n      input.value = String(value).replace(/^0+/, '') + ' лет';\n    } else {\n      if (lastNumber === '1') {\n        input.value = String(value).replace(/^0+/, '') + ' год';\n      } else if (lastNumber === '2' || lastNumber === '3' || lastNumber === '4') {\n        input.value = String(value).replace(/^0+/, '') + ' года';\n      } else {\n        input.value = String(value).replace(/^0+/, '') + ' лет';\n      }\n    }\n  }\n\n  // Общиая стоимость\n\n  function addStyleTotalInput(totalInput) {\n    totalInput.value = totalInput.value.replace(/[^\\d]/g, '').replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ');\n    totalInput.style.color = '#1f1e25';\n    totalInput.style.borderColor = '#1f1e25';\n  }\n\n  function changeTotalInput(totalInput, initialRangeValue, initialInput, minCoint, maxCoint) {\n    var valueNumber = parseInt(totalInput.value.replace(/\\D+/g, ''), 10);\n\n    if (valueNumber >= minCoint && valueNumber <= maxCoint) {\n\n      changeInitialInput(valueNumber, initialRangeValue, initialInput);\n\n      totalInput.style.color = '#1f1e25';\n      totalInput.style.borderColor = '#1f1e25';\n\n      totalInput.value = showCurrency(valueNumber);\n\n    } else {\n      totalInput.value = 'Некорректное значение';\n      totalInput.style.color = 'red';\n      totalInput.style.borderColor = 'red';\n    }\n  }\n\n  function onMortgageTotalInput() {\n    addStyleTotalInput(mortgageTotalInput);\n  }\n\n  function onMortgageTotalInputChange() {\n    var initialRangeValue = mortgageInitialRange.value;\n    changeTotalInput(mortgageTotalInput, initialRangeValue, mortgageInitialInput, MIN_COINT_MORTGAGE, MAX_COINT_MORTGAGE);\n  }\n\n  mortgageTotalInput.addEventListener('input', onMortgageTotalInput);\n  mortgageTotalInput.addEventListener('change', onMortgageTotalInputChange);\n\n\n  function onMortgageBtnMinusClick() {\n    var valueNumber = parseInt(mortgageTotalInput.value.replace(/\\D+/g, ''), 10);\n\n    if (valueNumber >= MIN_COINT_BTN_MORTGAGE) {\n      valueNumber -= STEP_MORTGAGE;\n      mortgageTotalInput.value = showCurrency(valueNumber);\n      changeInitialInput(valueNumber, mortgageInitialRange.value, mortgageInitialInput);\n      onMortgageCalcChange();\n    }\n  }\n\n  function onMortgageBtnPlusClick() {\n    var valueNumber = parseInt(mortgageTotalInput.value.replace(/\\D+/g, ''), 10);\n\n    if (valueNumber <= MAX_COINT_BTN_MORTGAGE) {\n      valueNumber += STEP_MORTGAGE;\n\n      mortgageTotalInput.value = showCurrency(valueNumber);\n      changeInitialInput(valueNumber, mortgageInitialRange.value, mortgageInitialInput);\n      onMortgageCalcChange();\n    }\n  }\n\n  mortgageBtnMinus.addEventListener('click', onMortgageBtnMinusClick);\n  mortgageBtnPlus.addEventListener('click', onMortgageBtnPlusClick);\n\n\n  // Первоначальный взнос\n\n  function changeInitialInput(totalValue, persent, initialInput) {\n    var initialValueNumber = Math.round((totalValue * persent) / MAX_PERSENT);\n    initialInput.value = showCurrency(initialValueNumber);\n  }\n\n  function calcInitialRange(totalInput, initialRange, initialInput, payPercent) {\n    var valueNumberTotal = parseInt(totalInput.value.replace(/\\D+/g, ''), 10);\n    changeInitialInput(valueNumberTotal, initialRange.value, initialInput);\n    payPercent.textContent = initialRange.value + '%';\n  }\n\n  function calcInitialInput(initialInput, totalInput, initialRange, minPersent, payPercent) {\n    var valueNumber = parseInt(initialInput.value.replace(/\\D+/g, ''), 10);\n    var valueNumberTotal = parseInt(totalInput.value.replace(/\\D+/g, ''), 10);\n\n    var percent = (valueNumber * MAX_PERSENT) / valueNumberTotal;\n\n    if (percent < minPersent || !valueNumber) {\n      changeInitialInput(valueNumberTotal, minPersent, initialInput);\n      initialRange.value = minPersent;\n    } else if (percent > MAX_PERSENT) {\n      changeInitialInput(valueNumberTotal, MAX_PERSENT, initialInput);\n      initialRange.value = MAX_PERSENT;\n    } else {\n      changeInitialInput(valueNumberTotal, percent, initialInput);\n      initialRange.value = percent;\n    }\n\n    payPercent.textContent = initialRange.value + '%';\n  }\n\n  function onMortgageInitialInput() {\n    mortgageInitialInput.value = mortgageInitialInput.value.replace(/[^\\d]/g, '').replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ');\n  }\n\n  function onMortgageInitialInputChange() {\n    calcInitialInput(mortgageInitialInput, mortgageTotalInput, mortgageInitialRange, MIN_PERSENT_MORTGAGE, mortgagePayPercent);\n  }\n\n  function onMortgageInitialRangeChange() {\n    calcInitialRange(mortgageTotalInput, mortgageInitialRange, mortgageInitialInput, mortgagePayPercent);\n  }\n\n  mortgageInitialInput.addEventListener('input', onMortgageInitialInput);\n  mortgageInitialInput.addEventListener('change', onMortgageInitialInputChange);\n  mortgageInitialRange.addEventListener('change', onMortgageInitialRangeChange);\n\n  // Период ипотеки\n\n  function changePeriodInput(periodInput, periodRange, minPeriod, maxPeriod) {\n    var valueNumber = parseInt(periodInput.value.replace(/\\D+/g, ''), 10);\n    if (valueNumber < minPeriod || !valueNumber) {\n      periodInput.value = minPeriod + ' лет';\n      periodRange.value = minPeriod;\n    } else if (valueNumber > maxPeriod) {\n      periodInput.value = maxPeriod + ' лет';\n      periodRange.value = maxPeriod;\n    } else {\n      showPeriod(periodInput, valueNumber);\n      periodRange.value = valueNumber;\n    }\n  }\n\n  function onMortgagePeriodInput() {\n    mortgagePeriodInput.value = mortgagePeriodInput.value.replace(/[^\\d]/g, '');\n  }\n\n  function onMortgagePeriodInputChange() {\n    changePeriodInput(mortgagePeriodInput, mortgagePeriodRange, MIN_PERIOD_MORTGAGE, MAX_PERIOD_MORTGAGE);\n  }\n\n  function onMortgagePeriodRange() {\n    var valueNumber = parseInt(mortgagePeriodRange.value.replace(/\\D+/g, ''), 10);\n    showPeriod(mortgagePeriodInput, valueNumber);\n  }\n\n  mortgagePeriodInput.addEventListener('input', onMortgagePeriodInput);\n  mortgagePeriodInput.addEventListener('change', onMortgagePeriodInputChange);\n  mortgagePeriodRange.addEventListener('change', onMortgagePeriodRange);\n\n\n  // Блок предложение\n\n  function onMortgageCalcChange() {\n    var valueTotal = parseInt(mortgageTotalInput.value.replace(/\\D+/g, ''), 10);\n    var valueInitial = parseInt(mortgageInitialInput.value.replace(/\\D+/g, ''), 10);\n    var valueInitialRange = parseInt(mortgageInitialRange.value.replace(/\\D+/g, ''), 10);\n    var valuePeriod = parseInt(mortgagePeriodInput.value.replace(/\\D+/g, ''), 10);\n    var mortgageSum;\n    var percentRate;\n\n    if (maternityCapital.checked) {\n      mortgageSum = valueTotal - valueInitial - MATERNITY_CAPITAL;\n    } else {\n      mortgageSum = valueTotal - valueInitial;\n    }\n\n    if (mortgageSum < MIN_SUM_MORTGAGE) {\n      offer.style.display = 'none';\n      offerWarning.style.display = 'block';\n      offerWarningTitle.textContent = 'Наш банк не выдаёт ипотечные кредиты меньше 500 000 рублей.';\n    } else {\n      offer.style.display = 'block';\n      offerWarning.style.display = 'none';\n    }\n\n    if (valueInitialRange < PERCENT_POINT_MORTGAGE) {\n      percentRate = 9.4 / 1200;\n      percentOffer.textContent = '9,40%';\n    } else {\n      percentRate = 8.5 / 1200;\n      percentOffer.textContent = '8,50%';\n    }\n\n    sumOffer.textContent = showCurrency(mortgageSum);\n\n    var monthlyPow = valuePeriod * 12;\n    var monthlyPay = mortgageSum * (percentRate + (percentRate / (Math.pow((1 + percentRate), monthlyPow) - 1)));\n    var requiredProfit = monthlyPay * 100 / 45;\n\n    payOffer.textContent = showCurrency(monthlyPay.toFixed());\n    requiredOffer.textContent = showCurrency(requiredProfit.toFixed());\n\n    totalSumForm.value = mortgageTotalInput.value;\n    initialPayForm.value = mortgageInitialInput.value;\n    periodForm.value = mortgagePeriodInput.value;\n    initialPayBlockForm.style.display = 'flex';\n  }\n\n  mortgageBlock.addEventListener('change', onMortgageCalcChange);\n\n  // Форма отправки\n\n  var nameForm = document.querySelector('.credit-form__name-input');\n  var phoneForm = document.querySelector('.credit-form__phone-input');\n  var emailForm = document.querySelector('.credit-form__email-input');\n  var creditForm = document.querySelector('.credit-form form');\n  var modalSuccess = document.querySelector('.modal-success');\n  var overlaySuccess = document.querySelector('.overlay-success');\n  var btnCloseModalSuccess = document.querySelector('.modal-success__btn-close');\n\n  btnOpenForm.addEventListener('click', function () {\n    creditFormBlock.style.display = 'block';\n    nameForm.focus();\n  });\n\n  var onEmailValidate = function () {\n    var value = emailForm.value.trim();\n    var reg = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\n\n    if (reg.test(value) === false && value !== '') {\n      emailForm.setCustomValidity(ERROR_EMAIL_MESSAGE);\n    } else {\n      emailForm.setCustomValidity('');\n    }\n  };\n\n  function onCreditFormSubmit(evt) {\n    evt.preventDefault();\n    localStorage.setItem('ФИО', nameForm.value);\n    localStorage.setItem('Телефон', phoneForm.value);\n    localStorage.setItem('E-mail', emailForm.value);\n    creditForm.reset();\n    creditFormBlock.style.display = 'none';\n    modalSuccess.style.display = 'block';\n    overlaySuccess.style.display = 'block';\n    document.body.style.overflow = 'hidden';\n  }\n\n  function closeModalSuccess() {\n    modalSuccess.style.display = 'none';\n    overlaySuccess.style.display = 'none';\n    document.body.style.overflow = '';\n  }\n\n  if (creditForm) {\n    IMask(phoneForm, {mask: '+{7}(000)000-00-00'});\n\n    emailForm.addEventListener('input', onEmailValidate);\n    creditForm.addEventListener('submit', onCreditFormSubmit);\n    btnCloseModalSuccess.addEventListener('click', closeModalSuccess);\n  }\n\n  // Автокредит <<<<<<<<<<<<\n\n  var STEP_AVTO = 50000;\n  var MIN_COINT_AVTO = 500000;\n  var MAX_COINT_AVTO = 5000000;\n  var MIN_COINT_BTN_AVTO = MIN_COINT_AVTO + STEP_AVTO;\n  var MAX_COINT_BTN_AVTO = MAX_COINT_AVTO - STEP_AVTO;\n  var MIN_SUM_AVTO = 200000;\n  var MIN_PERSENT_AVTO = 20;\n  var MIN_PERIOD_AVTO = 1;\n  var MAX_PERIOD_AVTO = 5;\n  var COINT_POINT_AVTO = 2000000;\n  var avtoTotalInput = avtoBlock.querySelector('.calculator__input-total');\n  var avtoInitialInput = avtoBlock.querySelector('.calculator__input-initial');\n  var avtoInitialRange = avtoBlock.querySelector('.calculator__range-initial');\n  var avtoPeriodInput = avtoBlock.querySelector('.calculator__input-period');\n  var avtoPeriodRange = avtoBlock.querySelector('.calculator__range-period');\n  var avtoPayPercent = avtoBlock.querySelector('.calculator__pay-percent');\n  var avtoBtnMinus = avtoBlock.querySelector('.calculator__btn-minus');\n  var avtoBtnPlus = avtoBlock.querySelector('.calculator__btn-plus');\n  var kasko = avtoBlock.querySelector('.calculator__kasko input');\n  var insurance = avtoBlock.querySelector('.calculator__insurance input');\n\n\n  function onAvtoTotalInput() {\n    addStyleTotalInput(avtoTotalInput);\n  }\n\n  function onAvtoTotalInputChange() {\n    var initialRangeValue = avtoInitialRange.value;\n    changeTotalInput(avtoTotalInput, initialRangeValue, avtoInitialInput, MIN_COINT_AVTO, MAX_COINT_AVTO);\n  }\n\n  avtoTotalInput.addEventListener('input', onAvtoTotalInput);\n  avtoTotalInput.addEventListener('change', onAvtoTotalInputChange);\n\n\n  function onAvtoBtnMinusClick() {\n    var valueNumber = parseInt(avtoTotalInput.value.replace(/\\D+/g, ''), 10);\n\n    if (valueNumber >= MIN_COINT_BTN_AVTO) {\n      valueNumber -= STEP_AVTO;\n      avtoTotalInput.value = showCurrency(valueNumber);\n      changeInitialInput(valueNumber, avtoInitialRange.value, avtoInitialInput);\n      onAvtoCalcChange();\n    }\n  }\n\n  function onAvtoBtnPlusClick() {\n    var valueNumber = parseInt(avtoTotalInput.value.replace(/\\D+/g, ''), 10);\n\n    if (valueNumber <= MAX_COINT_BTN_AVTO) {\n      valueNumber += STEP_AVTO;\n\n      avtoTotalInput.value = showCurrency(valueNumber);\n      changeInitialInput(valueNumber, avtoInitialRange.value, avtoInitialInput);\n      onAvtoCalcChange();\n    }\n  }\n\n  avtoBtnMinus.addEventListener('click', onAvtoBtnMinusClick);\n  avtoBtnPlus.addEventListener('click', onAvtoBtnPlusClick);\n\n  // Первоначальный взнос авто\n\n  function onAvtoInitialInput() {\n    avtoInitialInput.value = avtoInitialInput.value.replace(/[^\\d]/g, '').replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ');\n  }\n\n  function onAvtoInitialInputChange() {\n    calcInitialInput(avtoInitialInput, avtoTotalInput, avtoInitialRange, MIN_PERSENT_AVTO, avtoPayPercent);\n  }\n\n  function onAvtoInitialRangeChange() {\n    calcInitialRange(avtoTotalInput, avtoInitialRange, avtoInitialInput, avtoPayPercent);\n  }\n\n  avtoInitialInput.addEventListener('input', onAvtoInitialInput);\n  avtoInitialInput.addEventListener('change', onAvtoInitialInputChange);\n  avtoInitialRange.addEventListener('change', onAvtoInitialRangeChange);\n\n  // Период кредитования\n\n  function onAvtoPeriodInput() {\n    avtoPeriodInput.value = avtoPeriodInput.value.replace(/[^\\d]/g, '');\n  }\n\n  function onAvtoPeriodInputChange() {\n    changePeriodInput(avtoPeriodInput, avtoPeriodRange, MIN_PERIOD_AVTO, MAX_PERIOD_AVTO);\n  }\n\n  function onAvtoPeriodRange() {\n    var valueNumber = parseInt(avtoPeriodRange.value.replace(/\\D+/g, ''), 10);\n    showPeriod(avtoPeriodInput, valueNumber);\n  }\n\n  avtoPeriodInput.addEventListener('input', onAvtoPeriodInput);\n  avtoPeriodInput.addEventListener('change', onAvtoPeriodInputChange);\n  avtoPeriodRange.addEventListener('change', onAvtoPeriodRange);\n\n  // Блок предложение\n\n  function onAvtoCalcChange() {\n    var valueTotal = parseInt(avtoTotalInput.value.replace(/\\D+/g, ''), 10);\n    var valueInitial = parseInt(avtoInitialInput.value.replace(/\\D+/g, ''), 10);\n    var valuePeriod = parseInt(avtoPeriodInput.value.replace(/\\D+/g, ''), 10);\n\n    var avtoSum = valueTotal - valueInitial;\n    var percentRate;\n\n    if (avtoSum < MIN_SUM_AVTO) {\n      offer.style.display = 'none';\n      offerWarning.style.display = 'block';\n      offerWarningTitle.textContent = 'Наш банк не выдаёт автокредиты кредиты меньше 200 000 рублей.';\n    } else {\n      offer.style.display = 'block';\n      offerWarning.style.display = 'none';\n    }\n\n    if (kasko.checked && insurance.checked) {\n      percentRate = 3.5 / 1200;\n      percentOffer.textContent = '3,5%';\n    } else if (kasko.checked || insurance.checked) {\n      percentRate = 8.5 / 1200;\n      percentOffer.textContent = '8,5%';\n    } else {\n      if (valueTotal < COINT_POINT_AVTO) {\n        percentRate = 16 / 1200;\n        percentOffer.textContent = '16%';\n      } else {\n        percentRate = 15 / 1200;\n        percentOffer.textContent = '15%';\n      }\n    }\n\n    sumOffer.textContent = showCurrency(avtoSum);\n\n    var monthlyPow = valuePeriod * 12;\n    var monthlyPay = avtoSum * (percentRate + (percentRate / (Math.pow((1 + percentRate), monthlyPow) - 1)));\n    var requiredProfit = monthlyPay * 100 / 45;\n\n    payOffer.textContent = showCurrency(monthlyPay.toFixed());\n    requiredOffer.textContent = showCurrency(requiredProfit.toFixed());\n\n    totalSumForm.value = avtoTotalInput.value;\n    initialPayForm.value = avtoInitialInput.value;\n    periodForm.value = avtoPeriodInput.value;\n    initialPayBlockForm.style.display = 'flex';\n  }\n\n  avtoBlock.addEventListener('change', onAvtoCalcChange);\n\n  // Потребительский кредит <<<<<<<<<<<<\n\n  var STEP_CONSUMER = 50000;\n  var MIN_COINT_CONSUMER = 50000;\n  var MAX_COINT_CONSUMER = 3000000;\n  var MIN_COINT_BTN_CONSUMER = MIN_COINT_CONSUMER + STEP_CONSUMER;\n  var MAX_COINT_BTN_CONSUMER = MAX_COINT_CONSUMER - STEP_CONSUMER;\n  var MIN_PERIOD_CONSUMER = 1;\n  var MAX_PERIOD_CONSUMER = 7;\n  var FIRST_POINT_CONSUMER = 750000;\n  var SECOND_POINT_CONSUMER = 2000000;\n  var consumerTotalInput = consumerBlock.querySelector('.calculator__input-total');\n  var consumerPeriodInput = consumerBlock.querySelector('.calculator__input-period');\n  var consumerPeriodRange = consumerBlock.querySelector('.calculator__range-period');\n  var consumerBtnMinus = consumerBlock.querySelector('.calculator__btn-minus');\n  var consumerBtnPlus = consumerBlock.querySelector('.calculator__btn-plus');\n  var participant = consumerBlock.querySelector('.calculator__participant input');\n  var initialPayBlockForm = document.querySelector('.credit-form__initial-item');\n\n  function onConsumerTotalInput() {\n    addStyleTotalInput(consumerTotalInput);\n  }\n\n  function onConsumerTotalInputChange() {\n    var valueNumber = parseInt(consumerTotalInput.value.replace(/\\D+/g, ''), 10);\n\n    if (valueNumber >= MIN_COINT_CONSUMER && valueNumber <= MAX_COINT_CONSUMER) {\n      consumerTotalInput.style.color = '#1f1e25';\n      consumerTotalInput.style.borderColor = '#1f1e25';\n      consumerTotalInput.value = showCurrency(valueNumber);\n\n    } else {\n      consumerTotalInput.value = 'Некорректное значение';\n      consumerTotalInput.style.color = 'red';\n      consumerTotalInput.style.borderColor = 'red';\n    }\n  }\n\n  consumerTotalInput.addEventListener('input', onConsumerTotalInput);\n  consumerTotalInput.addEventListener('change', onConsumerTotalInputChange);\n\n  function onConsumerBtnMinusClick() {\n    var valueNumber = parseInt(consumerTotalInput.value.replace(/\\D+/g, ''), 10);\n\n    if (valueNumber >= MIN_COINT_BTN_CONSUMER) {\n      valueNumber -= STEP_CONSUMER;\n      consumerTotalInput.value = showCurrency(valueNumber);\n      onConsumerCalcChange();\n    }\n  }\n\n  function onConsumerBtnPlusClick() {\n    var valueNumber = parseInt(consumerTotalInput.value.replace(/\\D+/g, ''), 10);\n\n    if (valueNumber <= MAX_COINT_BTN_CONSUMER) {\n      valueNumber += STEP_CONSUMER;\n\n      consumerTotalInput.value = showCurrency(valueNumber);\n      onConsumerCalcChange();\n    }\n  }\n\n  consumerBtnMinus.addEventListener('click', onConsumerBtnMinusClick);\n  consumerBtnPlus.addEventListener('click', onConsumerBtnPlusClick);\n\n  // Период кредитования потреб\n\n  function onConsumerPeriodInput() {\n    consumerPeriodInput.value = consumerPeriodInput.value.replace(/[^\\d]/g, '');\n  }\n\n  function onConsumerPeriodInputChange() {\n    changePeriodInput(consumerPeriodInput, consumerPeriodRange, MIN_PERIOD_CONSUMER, MAX_PERIOD_CONSUMER);\n  }\n\n  function onConsumerPeriodRange() {\n    var valueNumber = parseInt(consumerPeriodRange.value.replace(/\\D+/g, ''), 10);\n    showPeriod(consumerPeriodInput, valueNumber);\n  }\n\n  consumerPeriodInput.addEventListener('input', onConsumerPeriodInput);\n  consumerPeriodInput.addEventListener('change', onConsumerPeriodInputChange);\n  consumerPeriodRange.addEventListener('change', onConsumerPeriodRange);\n\n  // Блок предложение (потреб)\n\n  function onConsumerCalcChange() {\n    var consumerSum = parseInt(consumerTotalInput.value.replace(/\\D+/g, ''), 10);\n    var valuePeriod = parseInt(consumerPeriodInput.value.replace(/\\D+/g, ''), 10);\n\n    var percentRate;\n\n    if (consumerSum < FIRST_POINT_CONSUMER) {\n      percentRate = 15;\n      percentOffer.textContent = '15%';\n    } else if (consumerSum >= FIRST_POINT_CONSUMER && consumerSum < SECOND_POINT_CONSUMER) {\n      percentRate = 12.5;\n      percentOffer.textContent = '12,5%';\n    } else {\n      percentRate = 9.5;\n      percentOffer.textContent = '9,5%';\n    }\n\n    if (participant.checked) {\n      percentRate -= 0.5;\n      var percentRateString = percentRate + '%';\n      percentOffer.textContent = percentRateString.replace('.', ',');\n    }\n\n    percentRate = percentRate / 1200;\n\n    sumOffer.textContent = showCurrency(consumerSum);\n\n    var monthlyPow = valuePeriod * 12;\n    var monthlyPay = consumerSum * (percentRate + (percentRate / (Math.pow((1 + percentRate), monthlyPow) - 1)));\n    var requiredProfit = monthlyPay * 100 / 45;\n\n    payOffer.textContent = showCurrency(monthlyPay.toFixed());\n    requiredOffer.textContent = showCurrency(requiredProfit.toFixed());\n\n    totalSumForm.value = consumerTotalInput.value;\n    periodForm.value = consumerPeriodInput.value;\n    initialPayBlockForm.style.display = 'none';\n  }\n\n  consumerBlock.addEventListener('change', onConsumerCalcChange);\n\n  // Карта\n\n  var russiaInput = document.querySelector('#russia');\n  var sngInput = document.querySelector('#sng');\n  var europeInput = document.querySelector('#europe');\n  var mapFilter = document.querySelector('.departments__filter-form');\n\n  ymaps.ready(init);\n\n  function init() {\n    var myMap = new ymaps.Map(\"map\", {\n      center: [55.45, 37.36],\n      zoom: 3,\n      controls: [],\n      behaviors: ['drag']\n    });\n\n\n    // var ZoomLayout = ymaps.templateLayoutFactory.createClass('<div>' +\n    //   '<div id=\"zoom-in\" class=\"btn\"><i class=\"icon-plus\"></i></div><br>' +\n    //   '<div id=\"zoom-out\" class=\"btn\"><i class=\"icon-minus\"></i></div>' +\n    //   '</div>', {\n\n    //   build: function () {\n    //     // Вызываем родительский метод build.\n    //     ZoomLayout.superclass.build.call(this);\n\n    //     // Привязываем функции-обработчики к контексту и сохраняем ссылки\n    //     // на них, чтобы потом отписаться от событий.\n    //     this.zoomInCallback = ymaps.util.bind(this.zoomIn, this);\n    //     this.zoomOutCallback = ymaps.util.bind(this.zoomOut, this);\n\n    //     // Начинаем слушать клики на кнопках макета.\n    //     document.querySelector('#zoom-in').bind('click', this.zoomInCallback);\n    //     document.querySelector('#zoom-out').bind('click', this.zoomOutCallback);\n    //   },\n\n    //   clear: function () {\n    //     // Снимаем обработчики кликов.\n    //     document.querySelector('#zoom-in').unbind('click', this.zoomInCallback);\n    //     document.querySelector('#zoom-out').unbind('click', this.zoomOutCallback);\n\n    //     // Вызываем родительский метод clear.\n    //     ZoomLayout.superclass.clear.call(this);\n    //   },\n\n    //   zoomIn: function () {\n    //     var map = this.getData().control.getMap();\n    //     map.setZoom(map.getZoom() + 1, {checkZoomRange: true});\n    //   },\n\n    //   zoomOut: function () {\n    //     var map = this.getData().control.getMap();\n    //     map.setZoom(map.getZoom() - 1, {checkZoomRange: true});\n    //   }\n    // });\n\n    // var zoomControl = new ymaps.control.ZoomControl({options: {layout: ZoomLayout}});\n\n    // myMap.controls.add(zoomControl);\n\n\n    // Маркеры на карте\n\n    var coordsRussia = [\n      [55.75, 37.61],\n      [59.93, 30.31],\n      [51.54, 46.00],\n      [67.61, 33.66],\n      [57.15, 65.53],\n      [54.99, 73.36]\n    ];\n\n    var coordsSNG = [\n      [40.36, 49.83],\n      [41.31, 69.27],\n      [53.90, 27.56],\n      [43.23, 76.94]\n    ];\n\n    var coordsEurope = [\n      [48.85, 2.35],\n      [50.08, 14.42],\n      [51.50, -0.12],\n      [41.90, 12.49]\n    ];\n\n    function madeCollection(coords) {\n      var collection = new ymaps.GeoObjectCollection({}, {\n        iconLayout: 'default#image',\n        iconImageHref: 'img/marker.png',\n      });\n\n      for (var i = 0; i < coords.length; i++) {\n        collection.add(new ymaps.Placemark(coords[i]));\n      }\n\n      return collection;\n    }\n\n    var russiaCollection = madeCollection(coordsRussia);\n    var sngCollection = madeCollection(coordsSNG);\n    var europeCollection = madeCollection(coordsEurope);\n\n    function onFilterChange() {\n      if (russiaInput.checked) {\n        myMap.geoObjects.add(russiaCollection);\n      } else {\n        myMap.geoObjects.remove(russiaCollection);\n      }\n      if (sngInput.checked) {\n        myMap.geoObjects.add(sngCollection);\n      } else {\n        myMap.geoObjects.remove(sngCollection);\n      }\n      if (europeInput.checked) {\n        myMap.geoObjects.add(europeCollection);\n      } else {\n        myMap.geoObjects.remove(europeCollection);\n      }\n    }\n\n    onFilterChange();\n    mapFilter.addEventListener('change', onFilterChange);\n  }\n\n});\n"]}