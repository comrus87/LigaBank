{"version":3,"sources":["main.js"],"names":["document","addEventListener","overlayLogin","querySelector","modalLogin","btnOpenModalLogin","btnCloseModalLogin","loginInput","passwordInput","formLogin","btnShowPassword","tabs","querySelectorAll","tabContents","introPage","servicesPage","closeLoginModal","style","display","body","overflow","value","count","timerId","setInterval","clearInterval","getAttribute","setAttribute","focus","evt","keyCode","preventDefault","localStorage","setItem","Swiper","pagination","el","clickable","autoplay","delay","speed","init","switchTabs","hideTabContent","a","i","length","classList","add","remove","forEach","tab","b","contains","sliderServices","breakpoints","320","bulletClass","bulletActiveClass","1024","changeServicePage","window","matchMedia","matches","destroy","select","selectTitle","selectList","mortgageBlock","avtoBlock","consumerBlock","offerBlock","creditFormBlock","targetForm","state","modeCredit","arrBlocks","showCreditBlock","mode","push","hiddenCreditBlocks","stopPropagation","target","textContent","MATERNITY_CAPITAL","MIN_SUM_MORTGAGE","PERCENT_POINT_MORTGAGE","mortgageTotalInput","mortgageInitialInput","mortgageInitialRange","mortgagePercent","mortgagePeriodInput","mortgagePeriodRange","btnMinus","btnPlus","offer","sumOffer","percentOffer","payOffer","requiredOffer","maternityCapital","offerWarning","btnOpenForm","creditForm","totalSumForm","initialPayForm","peroidForm","showCurrency","lastNumber","String","slice","replace","showMortgagePeriod","input","twoLastNumber","changeInitialInput","totalValue","persent","initialValueNumber","Math","round","onMortgageCalcChange","mortgageSum","percentRate","valueTotal","parseInt","valueInitial","valueInitialRange","valuePeriod","checked","monthlyPow","monthlyPay","pow","requiredProfit","toFixed","color","borderColor","valueNumber","valueNumberTotal","percent","MIN_PERIOD_MORTGAGE","MAX_PERIOD_MORTGAGE"],"mappings":"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","file":"main.min.js","sourcesContent":["'use strict';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n\n  var ESC_KEYCODE = 27;\n  var overlayLogin = document.querySelector('.overlay-login');\n  var modalLogin = document.querySelector('.modal-login');\n  var btnOpenModalLogin = document.querySelector('.page-header__enter-link');\n  var btnCloseModalLogin = document.querySelector('.modal-login__btn-close');\n  var loginInput = document.querySelector('#login');\n  var passwordInput = document.querySelector('#password');\n  var formLogin = document.querySelector('#login-form');\n  var btnShowPassword = document.querySelector('.modal-login__password-btn');\n\n  var tabs = document.querySelectorAll('.services__tab-item');\n  var tabContents = document.querySelectorAll('.services__block');\n  var introPage = document.querySelector('.intro');\n  var servicesPage = document.querySelector('.services');\n\n  // Модальное окно\n\n  function openLoginModal() {\n    overlayLogin.style.display = 'block';\n    modalLogin.style.display = 'block';\n    document.body.style.overflow = 'hidden';\n    loginInput.focus();\n  }\n\n  function closeLoginModal() {\n    overlayLogin.style.display = 'none';\n    modalLogin.style.display = 'none';\n    document.body.style.overflow = '';\n    loginInput.value = '';\n    passwordInput.value = '';\n  }\n\n\n  function changeShowPassword() {\n    if (passwordInput.getAttribute('type') === 'password') {\n      passwordInput.setAttribute('type', 'text');\n    } else if (passwordInput.getAttribute('type') === 'text') {\n      passwordInput.setAttribute('type', 'password');\n    }\n  }\n\n  if (modalLogin) {\n    btnShowPassword.addEventListener('mousedown', function () {\n      var count = 0;\n      var timerId = setInterval(function () {\n        count++;\n      }, 200);\n\n      btnShowPassword.addEventListener('mouseup', function () {\n        clearInterval(timerId);\n        if (count > 2) {\n          changeShowPassword();\n          count = 0;\n        }\n      });\n    });\n\n    btnOpenModalLogin.addEventListener('click', openLoginModal);\n    btnCloseModalLogin.addEventListener('click', closeLoginModal);\n\n    document.addEventListener('keydown', function (evt) {\n      if (evt.keyCode === ESC_KEYCODE) {\n        closeLoginModal();\n      }\n    });\n\n    formLogin.addEventListener('submit', function (evt) {\n      evt.preventDefault();\n      localStorage.setItem('Логин', loginInput.value);\n      localStorage.setItem('Пароль', passwordInput.value);\n      closeLoginModal();\n    });\n  }\n\n\n  // СЛайдер\n\n  if (introPage) {\n    var sliderIntro = new Swiper('.intro', {\n      pagination: {\n        el: '.swiper-pagination',\n        clickable: true\n      },\n      autoplay: {\n        delay: 4000,\n      },\n      speed: 700\n    });\n\n    sliderIntro.init();\n  }\n\n\n  // Табы\n\n  function switchTabs() {\n    function hideTabContent(a) {\n      for (var i = a; i < tabContents.length; i++) {\n        tabContents[i].classList.add('services__hide');\n        tabContents[i].classList.remove('services__show');\n\n        tabs[i].classList.remove('services__tab-item--active');\n      }\n    }\n\n    hideTabContent(1);\n\n    function showTabContent(b) {\n      if (tabContents[b].classList.contains('services__hide')) {\n        tabContents[b].classList.remove('services__hide');\n        tabContents[b].classList.add('services__show');\n        tabs[b].classList.add('services__tab-item--active');\n      }\n    }\n\n    tabs.forEach(function (tab, i) {\n      tab.addEventListener('click', function () {\n        hideTabContent(0);\n        showTabContent(i);\n      });\n    });\n  }\n\n  var sliderServices = new Swiper('.services', {\n    breakpoints: {\n      320: {\n        init: true,\n        pagination: {\n          el: '.swiper-pagination',\n          clickable: true,\n          bulletClass: 'services__bullet',\n          bulletActiveClass: 'services__active-bullet'\n        }\n      },\n      1024: {\n        init: false\n      }\n    }\n  });\n\n  function changeServicePage() {\n    if (window.matchMedia('(min-width: 1024px)').matches) {\n      sliderServices.destroy(false);\n      switchTabs();\n    } else if (window.matchMedia('(max-width: 1024px)').matches) {\n      sliderServices.init();\n    }\n  }\n\n  if (servicesPage) {\n    changeServicePage();\n    window.addEventListener('resize', changeServicePage);\n  }\n\n  // Калькулятор\n\n  var select = document.querySelector('.calculator__select');\n  var selectTitle = document.querySelector('.calculator__select-title');\n\n  var selectList = document.querySelector('.calculator__select-list');\n  var mortgageBlock = document.querySelector('.calculator__mortgage-container');\n  var avtoBlock = document.querySelector('.calculator__avto-container');\n  var consumerBlock = document.querySelector('.calculator__consumer-container');\n  var offerBlock = document.querySelector('.calculator__offer-wrap');\n  var creditFormBlock = document.querySelector('.credit-form');\n\n  var targetForm = document.querySelector('#target-form');\n\n\n  var state = {\n    modeCredit: null\n  };\n\n\n  var arrBlocks = [];\n  arrBlocks.push(mortgageBlock, avtoBlock, consumerBlock);\n\n  function hiddenCreditBlocks() {\n    for (var i = 0; i < arrBlocks.length; i++) {\n      arrBlocks[i].style.display = 'none';\n    }\n    offerBlock.style.display = 'none';\n    creditFormBlock.style.display = 'none';\n  }\n\n  hiddenCreditBlocks();\n\n  function toggleSelect(evt) {\n    evt.stopPropagation();\n    if (!select.classList.contains('calculator__select--active')) {\n      select.classList.add('calculator__select--active');\n      document.addEventListener('click', function () {\n        select.classList.remove('calculator__select--active');\n      });\n    } else {\n      select.classList.remove('calculator__select--active');\n    }\n  }\n\n  selectTitle.addEventListener('click', toggleSelect);\n\n  function showCreditBlock(mode) {\n    for (var i = 0; i < arrBlocks.length; i++) {\n      arrBlocks[i].style.display = 'none';\n    }\n    mode.style.display = 'block';\n    offerBlock.style.display = 'block';\n    creditFormBlock.style.display = 'none';\n  }\n\n  selectList.addEventListener('click', function (evt) {\n    state.modeCredit = evt.target.getAttribute('data-value');\n    selectTitle.textContent = evt.target.textContent;\n\n    switch (state.modeCredit) {\n      case 'mortgage':\n        showCreditBlock(mortgageBlock);\n        targetForm.value = 'Ипотека';\n        break;\n      case 'avto':\n        showCreditBlock(avtoBlock);\n        targetForm.value = 'Автокредит';\n        break;\n      case 'consumer':\n        showCreditBlock(consumerBlock);\n        targetForm.value = 'Потребительский кредит';\n        break;\n    }\n  });\n\n\n  // иптоека\n  var STEP_MORTGAGE = 100000;\n  var MIN_COINT_MORTGAGE = 1200000;\n  var MAX_COINT_MORTGAGE = 25000000;\n  var MIN_COINT_BTN_MORTGAGE = 1300000;\n  var MAX_COINT_BTN_MORTGAGE = 24900000;\n  var MATERNITY_CAPITAL = 470000;\n  var MIN_SUM_MORTGAGE = 500000;\n  var MIN_PERSENT_MORTGAGE = 10;\n  var MAX_PERSENT_MORTGAGE = 100;\n  var MIN_PERIOD_MORTGAGE = 5;\n  var MAX_PERIOD_MORTGAGE = 30;\n  var PERCENT_POINT_MORTGAGE = 15;\n  var mortgageTotalInput = mortgageBlock.querySelector('.calculator__input-total');\n  var mortgageInitialInput = mortgageBlock.querySelector('.calculator__input-initial');\n  var mortgageInitialRange = mortgageBlock.querySelector('.calculator__range-initial');\n  var mortgagePercent = mortgageBlock.querySelector('.calculator__pay-percent');\n  var mortgagePeriodInput = mortgageBlock.querySelector('.calculator__input-period');\n  var mortgagePeriodRange = mortgageBlock.querySelector('.calculator__range-period');\n\n  var btnMinus = mortgageBlock.querySelector('.calculator__btn-minus');\n  var btnPlus = mortgageBlock.querySelector('.calculator__btn-plus');\n\n  var offer = document.querySelector('.calculator__offer-column');\n  var sumOffer = document.querySelector('.calculator__offer-sum');\n  var percentOffer = document.querySelector('.calculator__offer-percent');\n  var payOffer = document.querySelector('.calculator__offer-pay');\n  var requiredOffer = document.querySelector('.calculator__offer-required');\n  var maternityCapital = mortgageBlock.querySelector('.calculator__capital input');\n\n  var offerWarning = document.querySelector('.calculator__warning');\n\n  var btnOpenForm = document.querySelector('.calculator__fill-form');\n  var creditForm = document.querySelector('.credit-form');\n\n\n  var totalSumForm = document.querySelector('#total-sum-form');\n  var initialPayForm = document.querySelector('#initial-pay-form');\n  var peroidForm = document.querySelector('#peroid-form');\n\n\n  function showCurrency(value) {\n    var lastNumber = String(value).slice(-1);\n    if (lastNumber === '1') {\n      return String(value).replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ').replace(/^0+/, '') + ' рубль';\n    } else if (lastNumber === '2' || lastNumber === '3' || lastNumber === '4') {\n      return String(value).replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ').replace(/^0+/, '') + ' рубля';\n    } else {\n      return String(value).replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ').replace(/^0+/, '') + ' рублей';\n    }\n  }\n\n  function showMortgagePeriod(input, value) {\n    var lastNumber = String(value).slice(-1);\n    var twoLastNumber = String(value).slice(-2);\n\n    if (twoLastNumber === '11' || twoLastNumber === '12' || twoLastNumber === '13' || twoLastNumber === '14') {\n      input.value = String(value).replace(/^0+/, '') + ' лет';\n    } else {\n      if (lastNumber === '1') {\n        input.value = String(value).replace(/^0+/, '') + ' год';\n      } else if (lastNumber === '2' || lastNumber === '3' || lastNumber === '4') {\n        input.value = String(value).replace(/^0+/, '') + ' года';\n      } else {\n        input.value = String(value).replace(/^0+/, '') + ' лет';\n      }\n    }\n  }\n\n  function changeInitialInput(totalValue, persent) {\n    var initialValueNumber = Math.round((totalValue * persent) / 100);\n    mortgageInitialInput.value = showCurrency(initialValueNumber);\n  }\n\n  // Общая сумма\n\n  function onTotalInput() {\n    mortgageTotalInput.value = mortgageTotalInput.value.replace(/[^\\d]/g, '').replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ');\n    mortgageTotalInput.style.color = '#1f1e25';\n    mortgageTotalInput.style.borderColor = '#1f1e25';\n  }\n\n  function onTotalInputChange() {\n    var valueNumber = parseInt(mortgageTotalInput.value.replace(/\\D+/g, ''), 10);\n\n    if (valueNumber >= MIN_COINT_MORTGAGE && valueNumber <= MAX_COINT_MORTGAGE) {\n\n      changeInitialInput(valueNumber, mortgageInitialRange.value);\n\n      mortgageTotalInput.style.color = '#1f1e25';\n      mortgageTotalInput.style.borderColor = '#1f1e25';\n\n      mortgageTotalInput.value = showCurrency(valueNumber);\n\n    } else {\n      mortgageTotalInput.value = 'Некорректное значение';\n      mortgageTotalInput.style.color = 'red';\n      mortgageTotalInput.style.borderColor = 'red';\n    }\n\n  }\n\n  mortgageTotalInput.addEventListener('input', onTotalInput);\n  mortgageTotalInput.addEventListener('change', onTotalInputChange);\n\n  function onBtnMinusClick() {\n    var valueNumber = parseInt(mortgageTotalInput.value.replace(/\\D+/g, ''), 10);\n\n    if (valueNumber >= MIN_COINT_BTN_MORTGAGE) {\n      valueNumber -= STEP_MORTGAGE;\n      mortgageTotalInput.value = showCurrency(valueNumber);\n      changeInitialInput(valueNumber, mortgageInitialRange.value);\n      onMortgageCalcChange();\n    }\n  }\n\n  function onBtnPlusClick() {\n    var valueNumber = parseInt(mortgageTotalInput.value.replace(/\\D+/g, ''), 10);\n\n    if (valueNumber <= MAX_COINT_BTN_MORTGAGE) {\n      valueNumber += STEP_MORTGAGE;\n\n      mortgageTotalInput.value = showCurrency(valueNumber);\n      changeInitialInput(valueNumber, mortgageInitialRange.value);\n      onMortgageCalcChange();\n    }\n  }\n\n  btnMinus.addEventListener('click', onBtnMinusClick);\n  btnPlus.addEventListener('click', onBtnPlusClick);\n\n\n  // Первоначальный взнос\n\n  function onInitialRangeChange() {\n    var valueNumberTotal = parseInt(mortgageTotalInput.value.replace(/\\D+/g, ''), 10);\n    changeInitialInput(valueNumberTotal, mortgageInitialRange.value);\n    mortgagePercent.textContent = mortgageInitialRange.value + '%';\n  }\n\n  function onInitialInput() {\n    mortgageInitialInput.value = mortgageInitialInput.value.replace(/[^\\d]/g, '').replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ');\n  }\n\n  function onInitialInputChange() {\n    var valueNumber = parseInt(mortgageInitialInput.value.replace(/\\D+/g, ''), 10);\n    var valueNumberTotal = parseInt(mortgageTotalInput.value.replace(/\\D+/g, ''), 10);\n\n    var percent = (valueNumber * 100) / valueNumberTotal;\n\n    if (percent < MIN_PERSENT_MORTGAGE || !valueNumber) {\n      changeInitialInput(valueNumberTotal, MIN_PERSENT_MORTGAGE);\n      mortgageInitialRange.value = MIN_PERSENT_MORTGAGE;\n    } else if (percent > 100) {\n      changeInitialInput(valueNumberTotal, MAX_PERSENT_MORTGAGE);\n      mortgageInitialRange.value = MAX_PERSENT_MORTGAGE;\n    } else {\n      changeInitialInput(valueNumberTotal, percent);\n      mortgageInitialRange.value = percent;\n    }\n\n    mortgagePercent.textContent = mortgageInitialRange.value + '%';\n  }\n\n  mortgageInitialInput.addEventListener('input', onInitialInput);\n  mortgageInitialInput.addEventListener('change', onInitialInputChange);\n  mortgageInitialRange.addEventListener('change', onInitialRangeChange);\n\n\n  // Период ипотеки\n\n  function onPeriodInput() {\n    mortgagePeriodInput.value = mortgagePeriodInput.value.replace(/[^\\d]/g, '');\n  }\n\n  function onPeriodInputChange() {\n    var valueNumber = parseInt(mortgagePeriodInput.value.replace(/\\D+/g, ''), 10);\n    if (valueNumber < MIN_PERIOD_MORTGAGE || !valueNumber) {\n      mortgagePeriodInput.value = MIN_PERIOD_MORTGAGE + ' лет';\n      mortgagePeriodRange.value = MIN_PERIOD_MORTGAGE;\n    } else if (valueNumber > MAX_PERIOD_MORTGAGE) {\n      mortgagePeriodInput.value = MAX_PERIOD_MORTGAGE + ' лет';\n      mortgagePeriodRange.value = MAX_PERIOD_MORTGAGE;\n    } else {\n      showMortgagePeriod(mortgagePeriodInput, valueNumber);\n      mortgagePeriodRange.value = valueNumber;\n    }\n  }\n\n  function onPeriodRange() {\n    var valueNumber = parseInt(mortgagePeriodRange.value.replace(/\\D+/g, ''), 10);\n    showMortgagePeriod(mortgagePeriodInput, valueNumber);\n  }\n\n  mortgagePeriodInput.addEventListener('input', onPeriodInput);\n  mortgagePeriodInput.addEventListener('change', onPeriodInputChange);\n  mortgagePeriodRange.addEventListener('change', onPeriodRange);\n\n  // Блок предложение\n\n\n  function onMortgageCalcChange() {\n    var valueTotal = parseInt(mortgageTotalInput.value.replace(/\\D+/g, ''), 10);\n    var valueInitial = parseInt(mortgageInitialInput.value.replace(/\\D+/g, ''), 10);\n    var valueInitialRange = mortgageInitialRange.value;\n    var valuePeriod = parseInt(mortgagePeriodInput.value.replace(/\\D+/g, ''), 10);\n\n    var mortgageSum;\n    var percentRate;\n\n    if (maternityCapital.checked) {\n      mortgageSum = valueTotal - valueInitial - MATERNITY_CAPITAL;\n    } else {\n      mortgageSum = valueTotal - valueInitial;\n    }\n\n    if (mortgageSum < MIN_SUM_MORTGAGE) {\n      offer.style.display = 'none';\n      offerWarning.style.display = 'block';\n    } else {\n      offer.style.display = 'block';\n      offerWarning.style.display = 'none';\n    }\n\n    if (valueInitialRange < PERCENT_POINT_MORTGAGE) {\n      percentRate = 9.4 / 1200;\n      percentOffer.textContent = '9,40%';\n    } else {\n      percentRate = 8.5 / 1200;\n      percentOffer.textContent = '8,50%';\n    }\n\n    sumOffer.textContent = showCurrency(mortgageSum);\n\n    var monthlyPow = valuePeriod * 12;\n    var monthlyPay = mortgageSum * (percentRate + (percentRate / (Math.pow((1 + percentRate), monthlyPow) - 1)));\n    var requiredProfit = monthlyPay * 100 / 45;\n\n    payOffer.textContent = showCurrency(monthlyPay.toFixed());\n    requiredOffer.textContent = showCurrency(requiredProfit.toFixed());\n\n    totalSumForm.value = mortgageTotalInput.value;\n    initialPayForm.value = mortgageInitialInput.value;\n    peroidForm.value = mortgagePeriodInput.value;\n  }\n\n  mortgageBlock.addEventListener('change', onMortgageCalcChange);\n\n  btnOpenForm.addEventListener('click', function () {\n    creditForm.style.display = 'block';\n  });\n\n});\n"]}